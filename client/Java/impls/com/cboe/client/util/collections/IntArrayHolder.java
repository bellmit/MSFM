package com.cboe.client.util.collections;

/**
 * IntArrayHolder.java
 *
 * @author Dmitry Volpyansky
 *
 * FILE GENERATED BY VELOCITY TEMPLATE ENGINE FROM /vobs/dte/client/generator/DV_XArrayHolder.java (KEY_TYPE=int)
 *
 */

import com.cboe.client.util.*;

public class IntArrayHolder implements IntArrayHolderIF
{
    public int[] keys;
    public int   size;

    public static final IntArrayHolderIF EmptyArrayHolder = new IntArrayHolder()
    {
        public void add(int key) {}
        public void add(int[] keyArray) {}
        public void add(int[] keyArray, int offset, int length) {}
    };

    public IntArrayHolder()
    {
        this(0);
    }

    public IntArrayHolder(int capacity)
    {
        keys = new int[capacity];
    }

    public int size()
    {
        return size;
    }

    public boolean isEmpty()
    {
        return size == 0;
    }

    public int capacity()
    {
        return keys.length;
    }

    public int ensureCapacity(int capacity)
    {
        if (keys.length < capacity)
        {
            keys = CollectionHelper.arrayclone(keys, 0, keys.length, capacity);
        }

        return keys.length;
    }

    public int[] keys()
    {
        return keys;
    }

    public int[] getKeys()
    {
        return CollectionHelper.arrayclone(keys, size);
    }

    public void add(int key)
    {
        int newSize = size + 1;

        if (newSize >= keys.length)
        {
            keys = CollectionHelper.arrayclone(keys, 0, keys.length, newSize);
        }

        keys[size] = key;

        size = newSize;
    }

    public void add(int[] keyArray)
    {
        int newSize = size + keyArray.length;

        if (newSize >= keys.length)
        {
            keys = CollectionHelper.arrayclone(keys, 0, keys.length, newSize);
        }

        System.arraycopy(keyArray, 0, keys, size, keyArray.length);

        size = newSize;
    }

    public void add(int[] keyArray, int offset, int length)
    {
        int newSize = size + length;

        if (newSize >= keys.length)
        {
            keys = CollectionHelper.arrayclone(keys, 0, keys.length, newSize);
        }

        System.arraycopy(keyArray, offset, keys, size, length);

        size = newSize;
    }

    public int getKey(int index)
    {
        if (index < size)
        {
            return keys[index];
        }

        return IntegerHelper.INVALID_VALUE;
    }

    public boolean containsKey(int object)
    {
        for (int i = 0; i < size; i++)
        {
            if (keys[i] == object)
            {
                return true;
            }
        }

        return false;
    }

    public IntVisitorIF acceptVisitor(IntVisitorIF visitor)
    {
        for (int i = 0; i < size; i++)
        {
            visitor.visit(keys[i]);
        }

        return visitor;
    }

    public IntArrayHolderIF clear()
    {

        size = 0;

        return this;
    }
}

