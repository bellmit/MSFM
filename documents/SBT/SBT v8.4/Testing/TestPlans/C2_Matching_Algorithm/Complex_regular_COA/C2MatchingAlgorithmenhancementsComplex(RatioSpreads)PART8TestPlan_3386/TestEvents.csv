TESTSUITENAME,C2 Matching Algorithm enhancements Complex (Ratio Spreads )PART 8 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:8

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,4,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API $MM3 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM3EXCHANGE,$MM3,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,M,1,Automated API $MM4 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM4EXCHANGE,$MM4,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,M,1,Automated API $MM5 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM5EXCHANGE,$MM5,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST2,$CUST2EXCHANGE,$CUST2EXECFIRM,X,1,Automated API $CUST2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST2EXCHANGE,$CUST2,X,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM4,$MM4,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM5,$MM5,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST2,$CUST2,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,3,$CLASS1PRODUCT1,7,B,$CLASS1PRODUCT2,13,S,$CLASS1PRODUCT3,19,B,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:50-1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:50-1,TRUE,TRUE,Comment
SETAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-1000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-1000,TRUE,TRUE,Comment
SETAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:5000-5000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:5000-5000,TRUE,TRUE,Comment
SETPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.60;2-9999:0.40,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.60;2-9999:0.40,TRUE,TRUE,Comment
SETPDPMRIGHTSSCALES,$SA1,$SESSION1,$STRATEGYCLASS1,0-1:1.0;1-2:0.6;2-9999:0.4,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMRIGHTSSCALES,$SA1,$SESSION1,$STRATEGYCLASS1,0-1:1.0;1-2:0.6;2-9999:0.4,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
SETSTRATEGYEPW,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-10000.0:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYSTRATEGYEPW,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-10000.0:10.0,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,0=1;4;22 8=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,0=1;4;22 8=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment

SETPDPMCOMPLEXELIGIBILITY,$SA1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMCOMPLEXELIGIBILITY,$SA1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,true,TRUE,TRUE,Comment
SETELIGIBLEPDPM,$SA1,$SESSION1,F,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYELIGIBLEPDPM,$SA1,$SESSION1,F,TRUE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,TRUE,TRUE,Comment

COMMENT, Test Case 1:3-Legs Ratio Spreads(Leg1:Buy:7 Leg2:Sell:13 Leg3:Buy:19)

COMMENT, Test Scenario A:Incoming order starts COA Trades with PDPM Leg Quote
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM5
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$CLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$CLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
SETPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ATS,9664,DAN,*,$CUST1EXCHANGE,$CUST1,10,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,10,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ATS,9664,DAN,*,0,0,3,10,1,2,-18,20,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,72,28,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,58,42,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT2,$SESSION1,170,130,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT3,$SESSION1,110,190,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Incoing order trades wit pDPM COB- NO COA AUCTION
SETCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,0,TRUE,TRUE,Comment

CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,OPU,7776,ABC,*,$MM2EXCHANGE,$MM2,100,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,JJP,3936,ABC,*,$MM3EXCHANGE,$MM3,100,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QNY,4179,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:302
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,300,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QRI,8833,DAN,*,$CUST1EXCHANGE,$CUST1,10,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,1000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QRI,8833,DAN,*,0,0,3,10,2,2,-18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QNY,4179,ABC,*,0,96,1,4,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,OPU,7776,ABC,*,0,94,1,6,1,2,18,10,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QNY,4179,ABC,*,96,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,OPU,7776,ABC,*,94,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,JJP,3936,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment


COMMENT, Test Scenario C:Incoming order starts COA Trades with PDPM LEGS and COB
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZMT,1843,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DDK,290,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVU,7105,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:302
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,30,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QUN,1938,DAN,*,$CUST1EXCHANGE,$CUST1,40,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,40,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QUN,1938,DAN,*,0,10,1,30,3,2,-18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVU,7105,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZMT,1843,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DDK,290,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QUN,1938,DAN,*,0,0,3,10,1,2,-18,20,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,72,28,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM2,$CLASS1PRODUCT1,$SESSION1,58,42,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT2,$SESSION1,170,130,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT3,$SESSION1,110,190,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario D:Incoming order starts COA Trades with PDPM LEGS COB and auction responses
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MFQ,7401,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,UIP,520,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GOT,2101,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:302
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,30,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,XDY,9959,DAN,*,$CUST1EXCHANGE,$CUST1,70,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,70,1,0,00,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YRK,5459,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM2,$MM2,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DFP,6654,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM3,$MM3,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SIA,5495,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,XDY,9959,DAN,*,$CUST1EXCHANGE,$CUST1,70,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,70,1,0,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,XDY,9959,DAN,*,0,40,1,30,3,2,-18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SIA,5495,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YRK,5459,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DFP,6654,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,XDY,9959,DAN,*,0,10,1,30,3,2,-18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GOT,2101,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MFQ,7401,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,UIP,520,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,XDY,9959,DAN,*,0,0,3,10,1,2,-18,20,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,72,28,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM2,$CLASS1PRODUCT1,$SESSION1,58,42,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT2,$SESSION1,170,130,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT3,$SESSION1,110,190,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario E:PDPM not TOB on legs or COB incoing orde trades starts COA trades with legscobauction resoponses
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KPC,999,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NMA,5061,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YBK,2704,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,50,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,400,2,1,00,400,2,1,20,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MTN,3907,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM2,$MM2,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NXT,9931,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM3,$MM3,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YBK,2704,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,50,1,0,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YBK,2704,DAN,*,0,30,1,20,2,2,-18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MTN,3907,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NXT,9931,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YBK,2704,DAN,*,0,10,1,20,2,2,-18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KPC,999,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NMA,5061,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YBK,2704,DAN,*,0,0,3,10,1,2,-18,20,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,58,42,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM2,$CLASS1PRODUCT1,$SESSION1,272,28,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT2,$SESSION1,170,130,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT3,$SESSION1,110,190,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario F:Incoming order starts COA Trades with PDPM LEGS COB and auction responses
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,JYC,3030,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,SCK,4802,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QVK,5091,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,50,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,400,2,1,00,400,2,1,20,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BUW,290,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM2,$MM2,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NCX,7185,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM3,$MM3,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QVK,5091,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,50,1,0,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QVK,5091,DAN,*,0,30,1,20,2,2,-18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BUW,290,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,NCX,7185,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QVK,5091,DAN,*,0,10,1,20,2,2,-18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,JYC,3030,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,SCK,4802,ABC,*,0,0,3,10,1,2,18,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QVK,5091,DAN,*,0,0,3,10,1,2,-18,20,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,58,42,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM2,$CLASS1PRODUCT1,$SESSION1,272,28,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT2,$SESSION1,170,130,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT3,$SESSION1,110,190,1,2,1,20,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario G:PDPM entitlement is not giving since MM1 doesn t become TOB until auction has started
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QJG,6075,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,HDP,4774,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHY,3365,DAN,*,$CUST1EXCHANGE,$CUST1,15,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,15,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,400,2,1,00,400,2,1,20,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,EMH,8037,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM2,$MM2,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SYB,1238,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHY,3365,DAN,*,$CUST1EXCHANGE,$CUST1,15,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,15,1,0,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHY,3365,DAN,*,0,0,3,15,2,2,-18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,EMH,8037,ABC,*,0,0,3,10,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SYB,1238,ABC,*,0,5,1,5,1,2,18,00,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QJG,6075,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,HDP,4774,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Scenario H:Incoming order starts COA Trades with PDPM LEGS COB and auction responses
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,300,2,1,20,300,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT3,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BVF,4465,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT3,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WDY,9544,ABC,*,$MM3EXCHANGE,$MM3,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT3,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SIY,3958,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:302
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,30,2,18,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHB,5912,DAN,*,$CUST1EXCHANGE,$CUST1,15,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT3,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION201,U,15,1,0,00,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ITB,5234,ABC,*,$MM2EXCHANGE,$MM2,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM2,$MM2,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,IYX,6872,ABC,*,$MM3EXCHANGE,$MM3,5,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CLA,4829,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,18,00,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION201,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHB,5912,DAN,*,$CUST1EXCHANGE,$CUST1,15,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,15,1,0,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHB,5912,DAN,*,0,0,3,15,3,2,-18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CLA,4829,ABC,*,0,4,1,6,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ITB,5234,ABC,*,0,6,1,4,1,2,18,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,IYX,6872,ABC,*,0,0,3,5,1,2,18,00,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BVF,4465,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WDY,9544,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SIY,3958,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM3,TRUE,TRUE,Comment
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM4,TRUE,TRUE,Comment
TRADERLOGOUT,$MM5,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST2,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,