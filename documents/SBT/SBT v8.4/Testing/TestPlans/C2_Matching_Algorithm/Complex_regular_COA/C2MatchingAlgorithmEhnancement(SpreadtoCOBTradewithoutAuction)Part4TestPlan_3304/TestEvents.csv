TESTSUITENAME,C2 Matching Algorithm Ehnancement (Spread to COB Trade without Auction) Part 4 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:11

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,4,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API $MM3 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM3EXCHANGE,$MM3,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,M,1,Automated API $MM4 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM4EXCHANGE,$MM4,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,M,1,Automated API $MM5 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM5EXCHANGE,$MM5,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST2,$CUST2EXCHANGE,$CUST2EXECFIRM,X,1,Automated API $CUST2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST2EXCHANGE,$CUST2,X,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM4,$MM4,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM5,$MM5,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST2,$CUST2,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:50-1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:50-1,TRUE,TRUE,Comment
SETAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-1000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-1000,TRUE,TRUE,Comment
SETAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:5000-5000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:5000-5000,TRUE,TRUE,Comment
SETPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.60;2-9999:0.40,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.60;2-9999:0.40,TRUE,TRUE,Comment
SETPDPMRIGHTSSCALES,$SA1,$SESSION1,$STRATEGYCLASS1,0-1:1.0;1-2:0.6;2-9999:0.4,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMRIGHTSSCALES,$SA1,$SESSION1,$STRATEGYCLASS1,0-1:1.0;1-2:0.6;2-9999:0.4,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:5.0;10-99999:10.0,TRUE,TRUE,Comment
SETSTRATEGYEPW,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-10000.0:10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYSTRATEGYEPW,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-10000.0:10.0,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,0=1;4;22 8=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,0=1;4;22 8=1;4;22,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$DEFAULT,$DEFAULT,$STRATEGYCLASS1,*,0,TRUE,TRUE,Comment

SETPDPMCOMPLEXELIGIBILITY,$SA1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMCOMPLEXELIGIBILITY,$SA1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,true,TRUE,TRUE,Comment
SETELIGIBLEPDPM,$SA1,$SESSION1,F,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYELIGIBLEPDPM,$SA1,$SESSION1,F,TRUE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment

COMMENT, Test Case 1:PDPM quoing on the COB

COMMENT, Test Scenario A:Incoming order trades only with PDPM quote
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM5
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$CLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$CLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
SETPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$MM1,$SESSION1,$MM3EXCHANGE,$CUST1EXECFIRM,$STRATEGYCLASS1,DAN,Default,ITG,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WRE,1497,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,IES,9962,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,IES,9962,DAN,*,0,0,3,50,1,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WRE,1497,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WRE,1497,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario B:incoming order trades with pdpm quote and MM1
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VGG,1926,ABC,*,$MM2EXCHANGE,$MM2,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PXM,453,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KNR,7844,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KNR,7844,DAN,*,0,0,3,50,2,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PXM,453,ABC,*,0,70,1,30,1,2,1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VGG,1926,ABC,*,0,80,1,20,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,150,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PXM,453,ABC,*,70,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VGG,1926,ABC,*,80,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Incoming order trades with PDPM quote and 2 MMs
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,315,50,100,2,319,40,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,315,50,100,2,319,40,TRUE,TRUE,Comment
QUOTE,$MM2,2,217,90,100,2,221,90,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,217,90,100,2,221,90,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YVP,3240,ABC,*,$MM2EXCHANGE,$MM2,200,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:300
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYP,2783,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:301
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WIE,6776,ABC,*,$MM3EXCHANGE,$MM3,200,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:302
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,700,2,-94,10,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHL,1377,DAN,*,$CUST1EXCHANGE,$CUST1,300,$STRATEGY1,O,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,RHL,1377,DAN,*,0,0,3,300,2,2,94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYP,2783,ABC,*,0,180,1,120,1,2,-94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YVP,3240,ABC,*,0,20,1,180,1,2,-94,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-94,10,0,1,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYP,2783,ABC,*,180,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YVP,3240,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WIE,6776,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM1,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Case 2:2 PDPM s quoing on the COB

COMMENT, Test Scenario A:Incoming Order rades only wih PDPM s quotes
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DJT,3317,ABC,*,$MM1EXCHANGE,$MM1,50,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:198
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,OXN,4931,ABC,*,$MM5EXCHANGE,$MM5,50,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NIP,3298,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,1000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NIP,3298,DAN,*,0,0,3,50,1,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DJT,3317,ABC,*,0,0,3,50,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,OXN,4931,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Incoming order Trades with PDPM s quotes and 1 MM
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WZU,1732,ABC,*,$MM2EXCHANGE,$MM2,300,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:197
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARI,4021,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:198
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RRU,1849,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QZC,3628,DAN,*,$CUST1EXCHANGE,$CUST1,300,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QZC,3628,DAN,*,0,0,3,300,3,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARI,4021,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RRU,1849,ABC,*,0,20,1,80,1,2,1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WZU,1732,ABC,*,0,180,1,120,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RRU,1849,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WZU,1732,ABC,*,180,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Incoming Order trades with PDPM s quotes and 2 MMs
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,315,50,500,2,319,40,500,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,500,2,315,50,500,2,319,40,TRUE,TRUE,Comment
QUOTE,$MM2,2,217,90,500,2,221,90,500,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,500,2,217,90,500,2,221,90,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WRR,8644,ABC,*,$MM2EXCHANGE,$MM2,80,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:194
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,PBP,3823,ABC,*,$MM3EXCHANGE,$MM3,80,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:195
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RFV,1713,ABC,*,$MM5EXCHANGE,$MM5,500,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:196
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VFV,7343,ABC,*,$MM1EXCHANGE,$MM1,600,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:197
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,1260,2,-94,10,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,OQQ,8495,DAN,*,$CUST1EXCHANGE,$CUST1,300,$STRATEGY1,O,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,OQQ,8495,DAN,*,0,0,3,300,3,2,94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RFV,1713,ABC,*,0,360,1,140,1,2,-94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WRR,8644,ABC,*,0,0,3,80,1,2,-94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,PBP,3823,ABC,*,0,0,3,80,1,2,-94,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,RFV,1713,ABC,*,360,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VFV,7343,ABC,*,600,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Case 3:PDPM quoing on the COB with Customer orders

COMMENT, Test Scenario A:Incoming order trades only with PDPM quote
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UGI,8637,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,INS,4269,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,INS,4269,DAN,*,0,0,3,50,1,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UGI,8637,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UGI,8637,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario B:incoming order trades with pdpm quote and MM1
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,CBZ,8739,ABC,*,$MM2EXCHANGE,$MM2,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CPU,2767,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,EHO,7798,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,EHO,7798,DAN,*,0,0,3,50,1,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,CBZ,8739,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,150,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CPU,2767,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,CBZ,8739,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Case 4:2 PDPM s quoing on the COB with customer orders

COMMENT, Test Scenario A:Incoming Order rades only wih PDPM s quotes
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HYV,2127,ABC,*,$MM1EXCHANGE,$MM1,50,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:198
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BSM,1264,ABC,*,$MM5EXCHANGE,$MM5,50,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NYH,3420,DAN,*,$CUST1EXCHANGE,$CUST1,50,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:201
PAUSE,1000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NYH,3420,DAN,*,0,0,3,50,1,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BSM,1264,ABC,*,0,0,3,50,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HYV,2127,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Incoming order Trades with PDPM s quotes and 1 MM
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,3,00,100,2,3,15,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,3,00,100,2,3,15,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,85,100,2,1,95,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,85,100,2,1,95,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BRW,8185,ABC,*,$MM2EXCHANGE,$MM2,150,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:197
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVO,1467,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:198
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,DHL,2605,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:199
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,350,2,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NQQ,182,DAN,*,$CUST1EXCHANGE,$CUST1,300,$STRATEGY1,D,2,-1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NQQ,182,DAN,*,0,0,3,300,3,2,-1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVO,1467,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,DHL,2605,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BRW,8185,ABC,*,0,0,3,150,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,1,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,DHL,2605,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM3,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Incoming Order trades with PDPM s quotes and 2 MMs
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM5
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM2,2,315,50,500,2,319,40,500,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,500,2,315,50,500,2,319,40,TRUE,TRUE,Comment
QUOTE,$MM2,2,217,90,500,2,221,90,500,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,500,2,217,90,500,2,221,90,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,OWV,1528,ABC,*,$MM2EXCHANGE,$MM2,80,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:194
STRATEGYORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WYF,7158,ABC,*,$MM3EXCHANGE,$MM3,80,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM3EXCHANGE,$MM3EXECFIRM,C,C,$CLASS1PRODUCT2,$MM3EXCHANGE,$MM3EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:195
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,CDG,5444,ABC,*,$MM5EXCHANGE,$MM5,500,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:196
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVB,4742,ABC,*,$MM1EXCHANGE,$MM1,600,$STRATEGY1,D,2,-94,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:197
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,1260,2,-94,10,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,UTZ,9864,DAN,*,$CUST1EXCHANGE,$CUST1,300,$STRATEGY1,O,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,$CLASS1PRODUCT2,$CUST1EXCHANGE,$CUST1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:200
PAUSE,2000
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,UTZ,9864,DAN,*,0,0,3,300,3,2,94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,WYF,7158,ABC,*,0,0,3,80,1,2,-94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,CDG,5444,ABC,*,0,360,1,140,1,2,-94,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,OWV,1528,ABC,*,0,0,3,80,1,2,-94,10,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,CDG,5444,ABC,*,360,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVB,4742,ABC,*,600,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCELBYCLASS,$MM2,$SESSION1,$CLASS1,2,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM3,TRUE,TRUE,Comment
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM4,TRUE,TRUE,Comment
TRADERLOGOUT,$MM5,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST2,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,