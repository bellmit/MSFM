TESTSUITENAME,C2_MATCHING_ALGORITHM for COMPLEX_AIM_PART_8A WR 6687_ Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:31

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,2,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API $MM3 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM3EXCHANGE,$MM3,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,M,1,Automated API $MM4 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM4EXCHANGE,$MM4,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,M,1,Automated API $MM5 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM5EXCHANGE,$MM5,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,M,1,Automated API $MM6 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM6EXCHANGE,$MM6,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,M,1,Automated API $MM7 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM7EXCHANGE,$MM7,M,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM4,$MM4,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM5,$MM5,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM6,$MM6,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM7,$MM7,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true;1:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true;1:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,1:5000-5000;2:5000-5000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,1:5000-5000;2:5000-5000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,1:1;2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,1:1;2:1,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,1:1-99999;2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,1:1-99999;2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,1:50-1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$STRATEGYCLASS1,1:50-1,TRUE,TRUE,Comment
SETAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0;1:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$STRATEGYCLASS1,2:0;1:0,TRUE,TRUE,Comment
SETAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,1:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$STRATEGYCLASS1,1:0,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,5=1;4;30 6=1;4,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$STRATEGYCLASS1,5=1;4;30 6=1;4,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,Comment
SETINTERNALIZATIONGUARANTEEDPERCENTAGE,$SA1,$SESSION1,$STRATEGYCLASS1,1:0-1:1.0;1:1-2:0.5;1:2-99999:0.4,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINTERNALIZATIONGUARANTEEDPERCENTAGE,$SA1,$SESSION1,$STRATEGYCLASS1,1:0-1:1.0;1:1-2:0.5;1:2-99999:0.4,TRUE,TRUE,Comment

COMMENT, Routing Property Setup

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment

COMMENT, Test Case 1:SETTING THE PRE-CONDITIONS FOR THE CASES
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 Customer Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book. RESULTS:PO trades with resting CUSTOMERS up to the available quantity then with MO
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TVK,7236,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPN,5273,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,VTQ,5602,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,VTQ,56021,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,50,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VTQ,5602,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TVK,7236,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPN,5273,ABC,*,50,50,1,50,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VTQ,56021,ABC,*,$SESSION1,$STRATEGY1,3,450,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPN,5273,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPN,5273,ABC,*,$SESSION1,$STRATEGY1,2,50,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 3:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 Customer Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book. RESULTS:PO trades with resting CUSTOMERS up to the available quantity then with MO
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,GWX,7836,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,YVM,4067,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,BCD,6240,ABC,*,$MM2EXCHANGE,$MM2,600,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,BCD,62401,ABC,*,$MM2EXCHANGE,$MM2,600,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,600,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BCD,6240,ABC,*,0,0,3,600,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,GWX,7836,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,YVM,4067,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BCD,62401,ABC,*,500,500,1,100,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BCD,62401,ABC,*,$SESSION1,$STRATEGY1,3,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 4:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 Customer Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book. RESULTS:PO trades with resting CUSTOMERS up to the available quantity then with MO
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,EVS,4557,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,YJX,3085,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,YPW,9305,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,YPW,93051,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YPW,9305,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,EVS,4557,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,YJX,3085,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YPW,93051,ABC,*,$SESSION1,$STRATEGY1,3,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 5:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 QUOTE-LIKE Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TBP,5629,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,RGP,8291,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,PSQ,8105,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,PSQ,81051,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,PSQ,8105,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TBP,5629,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,PSQ,81051,ABC,*,270,270,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,PSQ,81051,ABC,*,$SESSION1,$STRATEGY1,3,270,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TBP,5629,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,TBP,5629,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,RGP,8291,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,RGP,8291,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 6:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 QUOTE-LIKE Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UVT,1365,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,OSI,1915,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,HUU,8375,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,HUU,83751,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HUU,8375,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UVT,1365,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HUU,83751,ABC,*,300,300,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HUU,83751,ABC,*,$SESSION1,$STRATEGY1,3,300,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UVT,1365,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UVT,1365,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,OSI,1915,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,OSI,1915,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 7:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 QUOTE-LIKE Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SLT,5447,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VNL,8286,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,RQM,177,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,RQM,1771,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RQM,177,ABC,*,0,0,3,800,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SLT,5447,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VNL,8286,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RQM,1771,ABC,*,480,480,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RQM,1771,ABC,*,$SESSION1,$STRATEGY1,3,480,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VNL,8286,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VNL,8286,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 8:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [FIRM origin]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KQR,3875,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ECO,6937,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,SMG,9700,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,SMG,97001,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,275,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,SMG,9700,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KQR,3875,ABC,*,175,175,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,SMG,97001,ABC,*,225,225,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,SMG,97001,ABC,*,$SESSION1,$STRATEGY1,3,225,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KQR,3875,ABC,*,175,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KQR,3875,ABC,*,$SESSION1,$STRATEGY1,2,175,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ECO,6937,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ECO,6937,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 9:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [FIRM]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SKJ,4561,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,FHZ,6269,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,XVX,2177,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,XVX,21771,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,250,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,XVX,2177,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SKJ,4561,ABC,*,150,150,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,XVX,21771,ABC,*,250,250,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,XVX,21771,ABC,*,$SESSION1,$STRATEGY1,3,250,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SKJ,4561,ABC,*,150,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SKJ,4561,ABC,*,$SESSION1,$STRATEGY1,2,150,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,FHZ,6269,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,FHZ,6269,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 10:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [FIRM]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,CPF,324,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,LSH,9921,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,RXL,3026,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,RXL,30261,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RXL,3026,ABC,*,0,0,3,800,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,CPF,324,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RXL,30261,ABC,*,400,400,1,400,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RXL,30261,ABC,*,$SESSION1,$STRATEGY1,3,400,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,LSH,9921,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,LSH,9921,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 11:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [BROKER DEALER origin]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,VWX,3062,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KEP,2067,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,MBK,5698,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,MBK,56981,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,275,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MBK,5698,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,VWX,3062,ABC,*,175,175,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MBK,56981,ABC,*,225,225,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MBK,56981,ABC,*,$SESSION1,$STRATEGY1,3,225,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,VWX,3062,ABC,*,175,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,VWX,3062,ABC,*,$SESSION1,$STRATEGY1,2,175,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KEP,2067,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KEP,2067,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 12:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [BROKER DEALER origin]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NKT,7255,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MGQ,7298,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,QYX,1270,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,QYX,12701,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,250,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QYX,1270,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NKT,7255,ABC,*,150,150,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QYX,12701,ABC,*,250,250,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QYX,12701,ABC,*,$SESSION1,$STRATEGY1,3,250,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NKT,7255,ABC,*,150,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NKT,7255,ABC,*,$SESSION1,$STRATEGY1,2,150,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MGQ,7298,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MGQ,7298,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 13:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders [BROKER DEALER origin]. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [50 and then with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,STM,6609,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,PAZ,5492,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,TNP,6784,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,TNP,67841,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TNP,6784,ABC,*,0,0,3,800,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,STM,6609,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TNP,67841,ABC,*,400,400,1,400,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TNP,67841,ABC,*,$SESSION1,$STRATEGY1,3,400,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,PAZ,5492,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,PAZ,5492,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 14:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BVF,8658,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZTC,2095,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,AXJ,6547,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,AXJ,65471,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,AXJ,6547,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BVF,8658,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,AXJ,65471,ABC,*,300,300,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,AXJ,65471,ABC,*,$SESSION1,$STRATEGY1,3,300,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BVF,8658,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BVF,8658,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZTC,2095,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZTC,2095,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 15:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KLV,8430,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZDI,9639,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,DMJ,3161,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,DMJ,31611,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,DMJ,3161,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KLV,8430,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,DMJ,31611,ABC,*,270,270,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,DMJ,31611,ABC,*,$SESSION1,$STRATEGY1,3,270,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KLV,8430,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KLV,8430,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZDI,9639,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZDI,9639,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 16:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RGF,3891,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,TGB,6957,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,MOK,2910,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,MOK,29101,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MOK,2910,ABC,*,0,0,3,800,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RGF,3891,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,TGB,6957,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MOK,29101,ABC,*,480,480,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MOK,29101,ABC,*,$SESSION1,$STRATEGY1,3,480,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,TGB,6957,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,TGB,6957,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 17:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NCI,2807,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,SQB,8570,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,BKT,3334,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,BKT,33341,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BKT,3334,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NCI,2807,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BKT,33341,ABC,*,300,300,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,BKT,33341,ABC,*,$SESSION1,$STRATEGY1,3,300,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NCI,2807,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NCI,2807,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,SQB,8570,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,SQB,8570,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 18:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SSN,2905,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BFW,7995,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,HZI,9242,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,HZI,92421,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HZI,9242,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SSN,2905,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HZI,92421,ABC,*,270,270,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,HZI,92421,ABC,*,$SESSION1,$STRATEGY1,3,270,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SSN,2905,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SSN,2905,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BFW,7995,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BFW,7995,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 19:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 QUOTE-LIKE Complex Order and 1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PWJ,4766,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BBN,5370,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,JOV,7294,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,JOV,72941,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,JOV,7294,ABC,*,0,0,3,800,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PWJ,4766,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BBN,5370,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,JOV,72941,ABC,*,480,480,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,JOV,72941,ABC,*,$SESSION1,$STRATEGY1,3,480,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BBN,5370,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BBN,5370,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 20:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,LMK,9719,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BLW,1667,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,LRM,8321,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,LRM,83211,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,LRM,8321,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,LMK,9719,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,LRM,83211,ABC,*,300,300,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,LRM,83211,ABC,*,$SESSION1,$STRATEGY1,3,300,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,LMK,9719,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,LMK,9719,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BLW,1667,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,BLW,1667,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 21:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UNB,3217,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KXQ,9049,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,FMD,1039,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,FMD,10391,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,FMD,1039,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UNB,3217,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,FMD,10391,ABC,*,270,270,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,FMD,10391,ABC,*,$SESSION1,$STRATEGY1,3,270,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UNB,3217,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,UNB,3217,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KXQ,9049,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KXQ,9049,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 22:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [BROKER DEALER] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RFA,7633,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MXK,9441,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,YGN,492,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,YGN,4921,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YGN,492,ABC,*,0,0,3,800,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RFA,7633,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MXK,9441,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YGN,4921,ABC,*,480,480,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YGN,4921,ABC,*,$SESSION1,$STRATEGY1,3,480,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MXK,9441,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MXK,9441,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 23:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BJJ,7231,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1267,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,KGH,9655,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,KGH,96551,ABC,*,$MM2EXCHANGE,$MM2,500,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,500,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KGH,9655,ABC,*,0,0,3,500,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BJJ,7231,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KGH,96551,ABC,*,300,300,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KGH,96551,ABC,*,$SESSION1,$STRATEGY1,3,300,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BJJ,7231,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,BJJ,7231,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1267,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1267,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 24:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NTP,2155,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MTO,7456,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,UOH,2960,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,UOH,29601,ABC,*,$MM2EXCHANGE,$MM2,450,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,450,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,UOH,2960,ABC,*,0,0,3,450,2,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NTP,2155,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,UOH,29601,ABC,*,270,270,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,UOH,29601,ABC,*,$SESSION1,$STRATEGY1,3,270,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NTP,2155,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,NTP,2155,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MTO,7456,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,MTO,7456,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 25:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order and 1 QUOTE-LIKE Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with MO first [40 and then with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SUY,7734,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KVA,6353,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,500,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,KUK,6182,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,KUK,61821,ABC,*,$MM2EXCHANGE,$MM2,800,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,800,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KUK,6182,ABC,*,0,0,3,800,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,SUY,7734,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KVA,6353,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KUK,61821,ABC,*,480,480,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KUK,61821,ABC,*,$SESSION1,$STRATEGY1,3,480,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KVA,6353,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,KVA,6353,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 26:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order and 1 QUOTE-LIKE Complex Order and and 1 CUSTOMER Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with the resting CUSTOMER Complex Order first then with MO [40 and lastly with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,MYE,117,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPX,898,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,ZHE,2373,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,600,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,RMG,9293,ABC,*,$MM2EXCHANGE,$MM2,600,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,RMG,92931,ABC,*,$MM2EXCHANGE,$MM2,600,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,600,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RMG,9293,ABC,*,0,0,3,600,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,ZHE,2373,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,MYE,117,ABC,*,100,100,1,300,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RMG,92931,ABC,*,400,400,1,200,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RMG,92931,ABC,*,$SESSION1,$STRATEGY1,3,400,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,MYE,117,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,MYE,117,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPX,898,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,VPX,898,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 27:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [BD] Complex Order and 1 QUOTE-LIKE Complex Order and and 1 CUSTOMER Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with the resting CUSTOMER Complex Order first then with MO [40 and lastly with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PMY,613,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HRA,3086,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,EQF,3038,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,600,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,KMA,5338,ABC,*,$MM2EXCHANGE,$MM2,550,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,KMA,53381,ABC,*,$MM2EXCHANGE,$MM2,550,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,550,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,230,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KMA,5338,ABC,*,0,0,3,550,3,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,EQF,3038,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PMY,613,ABC,*,130,130,1,270,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KMA,53381,ABC,*,370,370,1,180,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KMA,53381,ABC,*,$SESSION1,$STRATEGY1,3,370,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PMY,613,ABC,*,130,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,PMY,613,ABC,*,$SESSION1,$STRATEGY1,2,130,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HRA,3086,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HRA,3086,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 28:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):1 NON-QUOTE-LIKE NON-CUSTOMER [FIRM] Complex Order and 1 QUOTE-LIKE Complex Order and and 1 CUSTOMER Complex Order. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with the resting CUSTOMER Complex Order first then with MO [40 and lastly with the resting QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,XJN,4499,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ESL,5568,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,I,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,ROF,7135,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,600,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,TSC,9964,ABC,*,$MM2EXCHANGE,$MM2,900,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,TSC,99641,ABC,*,$MM2EXCHANGE,$MM2,900,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,900,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,20,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TSC,9964,ABC,*,0,0,3,900,4,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,ROF,7135,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,XJN,4499,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ESL,5568,ABC,*,20,20,1,80,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TSC,99641,ABC,*,580,580,1,320,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TSC,99641,ABC,*,$SESSION1,$STRATEGY1,3,580,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ESL,5568,ABC,*,20,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ESL,5568,ABC,*,$SESSION1,$STRATEGY1,2,20,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 29:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders and 2 CUSTOMER Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with CUSTOMER Complex Orders first then with MO [50 and lastly with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is LESSER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,WBO,8582,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZGY,8781,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,FDY,8640,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
STRATEGYORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NRV,9742,ABC,*,$MM4EXCHANGE,$MM4,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM4EXCHANGE,$MM4EXECFIRM,C,C,$CLASS1PRODUCT2,$MM4EXCHANGE,$MM4EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:254
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,700,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,QRU,6583,ABC,*,$MM2EXCHANGE,$MM2,650,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,QRU,65831,ABC,*,$MM2EXCHANGE,$MM2,650,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,650,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,275,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QRU,6583,ABC,*,0,0,3,650,4,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,FDY,8640,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NRV,9742,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,WBO,8582,ABC,*,175,175,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QRU,65831,ABC,*,425,425,1,225,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QRU,65831,ABC,*,$SESSION1,$STRATEGY1,3,425,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,WBO,8582,ABC,*,175,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,WBO,8582,ABC,*,$SESSION1,$STRATEGY1,2,175,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZGY,8781,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,ZGY,8781,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 30:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders and 2 CUSTOMER Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with CUSTOMER Complex Orders first then with MO [50 and lastly with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is EQUAL to the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KBS,3977,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HQN,2744,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BFJ,6120,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
STRATEGYORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,EKF,6929,ABC,*,$MM4EXCHANGE,$MM4,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM4EXCHANGE,$MM4EXECFIRM,C,C,$CLASS1PRODUCT2,$MM4EXCHANGE,$MM4EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:254
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,700,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,MZO,8390,ABC,*,$MM2EXCHANGE,$MM2,700,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,MZO,83901,ABC,*,$MM2EXCHANGE,$MM2,700,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,700,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,250,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MZO,8390,ABC,*,0,0,3,700,4,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BFJ,6120,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,EKF,6929,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KBS,3977,ABC,*,150,150,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MZO,83901,ABC,*,450,450,1,250,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MZO,83901,ABC,*,$SESSION1,$STRATEGY1,3,450,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KBS,3977,ABC,*,150,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,KBS,3977,ABC,*,$SESSION1,$STRATEGY1,2,150,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HQN,2744,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,HQN,2744,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 31:CONDITION:Resting on Strategy (before inbound AIM COMPLEX):2 NON-QUOTE-LIKE Complex Orders and 2 CUSTOMER Complex Orders. CONDITION:Inbound AIM COMPLEX where both PO and MO have CUSTOMERS origins. RESULTS:PO trades with CUSTOMER Complex Orders first then with MO [50 and lastly with the resting NON-QUOTE-LIKE COMPLEX ORDERS up to the available quantity. CONDITION:PO quantity is GREATER than the available quantity in the resting Complex Book
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,IOV,1121,ABC,*,$MM6EXCHANGE,$MM6,400,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM6EXCHANGE,$MM6EXECFIRM,C,C,$CLASS1PRODUCT2,$MM6EXCHANGE,$MM6EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
STRATEGYORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1575,ABC,*,$MM7EXCHANGE,$MM7,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,B,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM7EXCHANGE,$MM7EXECFIRM,C,C,$CLASS1PRODUCT2,$MM7EXCHANGE,$MM7EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
STRATEGYORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,AFM,231,ABC,*,$MM5EXCHANGE,$MM5,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM5EXCHANGE,$MM5EXECFIRM,C,C,$CLASS1PRODUCT2,$MM5EXCHANGE,$MM5EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
STRATEGYORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,TQH,4272,ABC,*,$MM4EXCHANGE,$MM4,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM4EXCHANGE,$MM4EXECFIRM,C,C,$CLASS1PRODUCT2,$MM4EXCHANGE,$MM4EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:254
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,700,2,9,10,TRUE,TRUE,Comment
INTERNALIZEDSTRATEGYORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,YJK,1405,ABC,*,$MM2EXCHANGE,$MM2,1000,$STRATEGY1,D,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,YJK,14051,ABC,*,$MM2EXCHANGE,$MM2,1000,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM2EXCHANGE,$MM2EXECFIRM,C,C,$CLASS1PRODUCT2,$MM2EXCHANGE,$MM2EXECFIRM,C,C,TRUE,TRUE,Comment
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION126,D,1000,1,0,00,TRUE,TRUE,Comment
PAUSE,4000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YJK,1405,ABC,*,0,0,3,1000,4,2,-9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,AFM,231,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,TQH,4272,ABC,*,0,0,3,100,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,IOV,1121,ABC,*,0,0,3,400,1,2,9,10,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YJK,14051,ABC,*,600,600,1,400,1,2,9,10,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YJK,14051,ABC,*,$SESSION1,$STRATEGY1,3,600,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1575,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,EWC,1575,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM3,TRUE,TRUE,Comment
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM6,TRUE,TRUE,Comment
TRADERLOGOUT,$MM7,TRUE,TRUE,Comment
TRADERLOGOUT,$MM4,TRUE,TRUE,Comment
TRADERLOGOUT,$MM5,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,