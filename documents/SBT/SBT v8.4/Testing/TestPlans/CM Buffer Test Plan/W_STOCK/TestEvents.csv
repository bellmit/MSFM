TESTSUITENAME,CM Buffer Testing. W_STOCK Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:4

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION4,3,1,CLASS,1,PRODUCT,$STOCKCLASSLIST,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION4,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API $HOMT1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$HOMT1EXCHANGE,$HOMT1,A,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment


COMMENT, Trading Property Setup

COMMENT, Routing Property Setup

COMMENT, Pre-Test Settings
CLEARALLCALLBACKS,$SA1,
VERIFYSESSIONSTATE,$SA1,$SESSION4,2,TRUE,TRUE,Verify Session State,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Set Product State to close,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Set Product State to opening rotation,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Set Product State to open,
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS1PRODUCT1,4,TRUE,TRUE,Verify product is open,

SUBSCRIBECURRENTMARKET,$MM1,$SESSION4,$CLASS1,$CLASS1PRODUCT1,TRUE,FALSE,Subscribe for $CLASS1 CurrentMarket,
SUBSCRIBECURRENTMARKETV3,$MM1,$SESSION4,$CLASS1,$CLASS1PRODUCT1,0,TRUE,FALSE,Subscribe for CurrentMarket,



COMMENT, Test Case 1:(11) Stock mixed lot at top
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,1000,2,1,20,1000,$CLASS1PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment

ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VCT,2009,ABC,*,$CUST1EXCHANGE,$CUST1,125,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION4,TRUE,TRUE,Comment

ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XVW,6955,ABC,*,$MM1EXCHANGE,$MM1,11,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000

CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,1136,2,1,00,1000,2,1,20,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,136,2,1,00,0,1,0,00,TRUE,TRUE,Comment

QUOTECANCEL,$MM1,$SESSION4,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VCT,2009,ABC,*,125,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VCT,2009,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,125,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XVW,6955,ABC,*,11,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XVW,6955,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,11,TRUE,TRUE,Comment

COMMENT, Test Case 2:(12) Stock odd lot only
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YMY,4813,ABC,*,$CUST1EXCHANGE,$CUST1,25,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,25,2,1,00,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,25,2,1,00,0,1,0,00,TRUE,TRUE,Comment

ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XSF,9655,ABC,*,$MM1EXCHANGE,$MM1,11,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,00,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,00,0,1,0,00,TRUE,TRUE,Comment

ORDERCANCELBYIDNOWAIT,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YMY,4813,ABC,*,25,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YMY,4813,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,25,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XSF,9655,ABC,*,11,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XSF,9655,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,11,TRUE,TRUE,Comment

COMMENT, Test Case 3:(13) Stock odd lot at top
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,LJV,459,ABC,*,$CUST1EXCHANGE,$CUST1,25,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,25,2,1,10,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,25,2,1,10,0,1,0,00,TRUE,TRUE,Comment

ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JGN,4964,ABC,*,$MM1EXCHANGE,$MM1,11,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,10,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,10,0,1,0,00,TRUE,TRUE,Comment

QUOTE,$MM1,2,1,00,1000,2,1,20,1000,$CLASS1PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FWH,2799,ABC,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YDZ,590,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,10,1000,2,1,20,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,36,2,1,10,0,1,0,00,TRUE,TRUE,Comment

QUOTECANCEL,$MM1,$SESSION4,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,LJV,459,ABC,*,25,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,LJV,459,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,25,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JGN,4964,ABC,*,11,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JGN,4964,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,11,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FWH,2799,ABC,*,100,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FWH,2799,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YDZ,590,ABC,*,200,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YDZ,590,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,200,TRUE,TRUE,Comment

COMMENT, Test Case 4:(14) Stock mixed lot at top
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$CUST1
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KPY,931,ABC,*,$CUST1EXCHANGE,$CUST1,125,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,125,2,1,00,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,125,2,1,10,0,1,0,00,TRUE,TRUE,Comment

ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JJD,5207,ABC,*,$MM1EXCHANGE,$MM1,111,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION4,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,236,2,1,00,0,1,0,00,TRUE,TRUE,Comment
nCURRENTMARKETV3BESTPUBLICMARKETQUERY,$MM1,$SESSION4,$CLASS1PRODUCT1,236,2,1,10,0,1,0,00,TRUE,TRUE,Comment

ORDERCANCELBYIDNOWAIT,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KPY,931,ABC,*,125,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KPY,931,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,125,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JJD,5207,ABC,*,111,$SESSION4,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JJD,5207,ABC,*,$SESSION4,$CLASS1PRODUCT1,2,111,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$HOMT1,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,