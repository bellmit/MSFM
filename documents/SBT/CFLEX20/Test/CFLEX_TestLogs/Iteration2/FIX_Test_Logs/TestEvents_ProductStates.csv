TESTSUITENAME,TradingProductState-Existing-NewProductStates Test Plan WR:6708
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:17

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION6,11,1,CLASS,1,PRODUCT,$FLEX_MAINCLASSLIST,TRUE,TRUE,Comment
VERIFYPRODUCTDESCRIPTION,$SA1,$SESSION6,$CLASS1,2,0,01,2,0,01,TRUE,TRUE,Comment
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION6,13,1,CLASS1,1,PRODUCT,$FLEX_MAINCLASSLIST1,TRUE,TRUE,Comment
VERIFYPRODUCTDESCRIPTION,$SA1,$SESSION6,$CLASS1,2,0,01,2,0,01,TRUE,TRUE,Comment
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION6,13,1,CLASS2,1,PRODUCT,$FLEX_MAINCLASSLIST2,TRUE,TRUE,Comment
VERIFYPRODUCTDESCRIPTION,$SA1,$SESSION6,$CLASS1,2,0,01,2,0,01,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION6,2,TRUE,TRUE,Comment

COMMENT, User Setup
nCREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "551" and Exchange "CBOE" !
nVERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
nCREATEUSER,$SA1,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,B,1,Automated API $BD1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "551" and Exchange "CBOE" !
nVERIFYUSEREXISTENCE,$SA1,$BD1EXCHANGE,$BD1,B,TRUE,TRUE,TRUE,Comment
FIXTRADERLOGIN,$FIXCONNECTNAME,$FIXENGINEMODE,$MM1,$MM1,$FIXHEARTBEAT,TRUE,TRUE,Logging in DPM to enter Opening Quotes,
FIXTRADERLOGIN,$FIXCONNECTNAME,$FIXENGINEMODE,$BD1,$BD1,$FIXHEARTBEAT,TRUE,TRUE,Logging in DPM to enter Opening Quotes,


COMMENT, Strategy Setup

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION6,$CLASS1,9:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION6,$CLASS1,9:0-10,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION6,$CLASS11,9:0-10,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION6,$CLASS11,9:true,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION6,$CLASS21,9:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION6,$CLASS21,9:0-10,TRUE,TRUE,Comment
SETFLEXAUCTIONMINMAXRESPONSETIME,$SA1,$SESSION6,$CLASS1,9:100-600000,TRUE,TRUE,Comment
SETFLEXAUCTIONMINMAXRESPONSETIME,$SA1,$SESSION6,$CLASS11,9:100-600000,TRUE,TRUE,Comment
SETFLEXAUCTIONMINMAXRESPONSETIME,$SA1,$SESSION6,$CLASS21,9:100-600000,TRUE,TRUE,Comment

COMMENT, Routing Property Setup

COMMENT, Firm Property Setup

COMMENT, Pre-Test Settings
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS21,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS21,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS21,3,TRUE,TRUE,Comment
VERIFYCLASSSTATE,$SA1,$SESSION6,$CLASS21,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,3,TRUE,TRUE,Comment
VERIFYCLASSSTATE,$SA1,$SESSION6,$CLASS1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,3,TRUE,TRUE,Comment
VERIFYCLASSSTATE,$SA1,$SESSION6,$CLASS11,3,TRUE,TRUE,Comment
CREATEFLEXPRODUCTANDSTARTAUCTION,$MM1,$SESSION6,$CLASS11,$CLASS11NEWFLEXPRODUCT1,13,$CLASS11SYM,-,5,22,20,*,0,C,1,9,5,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,TRUE,TRUE,Comment
CREATEFLEXPRODUCTANDSTARTAUCTION,$MM1,$SESSION6,$CLASS21,$CLASS21NEWFLEXPRODUCT2,13,$CLASS21SYM,-,5,23,10,*,0,C,1,9,5,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,TRUE,TRUE,Comment

COMMENT, Subscriptions
SUBSCRIBEAUCTIONFORFLEX,$MM1,$SESSION6,9,TRUE,TRUE,Comment
SUBSCRIBEAUCTIONFORFLEX,$BD1,$SESSION6,9,TRUE,TRUE,Comment
SUBSCRIBEAUCTIONFORFLEX,$MM1,$SESSION6,9,TRUE,TRUE,Comment
SUBSCRIBEAUCTIONFORFLEX,$BD1,$SESSION6,9,TRUE,TRUE,Comment
SUBSCRIBEAUCTIONFORFLEX,$MM1,$SESSION6,9,TRUE,TRUE,Comment
SUBSCRIBEAUCTIONFORFLEX,$BD1,$SESSION6,9,TRUE,TRUE,Comment

COMMENT, Test Case 7:Verify that existing series product cannot change from Opening Rotation to Open state without intiating flex auction 
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
WAITFORPRODUCTSTATECHANGE,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,4,20000,FALSE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS1PRODUCT1,4,FALSE,TRUE,Comment

COMMENT, Test Case 1:Verification of existing series product state changes from Opening Rotation to Open when Flex Auction is intiated  
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXSTRATEGYPRODUCT,$MM1,$SESSION6,$CLASS1PRODUCT1,9,1,0,00,0,00:10:00.0,-,0,1,0,00,1,0,00,0,TRUE,FALSE,Comment
RFPQUERYFORFLEX,$MM1,$SESSION6,$CLASS1PRODUCT1,$AUCTION$CLASS1PRODUCT1,0,1,0,00,9,12,TRUE,FALSE,Comment
WAITFORPRODUCTSTATECHANGE,$SA1,$SESSION6,$CLASS1PRODUCT1,$CLASS1,4,2000,TRUE,FALSE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS1PRODUCT1,4,TRUE,FALSE,Comment

COMMENT, Test Case 2:Verify that Auction cannot be started when state of underlying of Product is in Suspend State
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,10,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXPRODUCT,$MM1,$SESSION6,$CLASS11PRODUCT1,9,1,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,FALSE,TRUE,Comment

COMMENT, Test Case 3:Verify that Auction cannot be started when state of underlying of Product is in Halt State
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,5,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXPRODUCT,$MM1,$SESSION6,$CLASS11PRODUCT1,9,1,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,FALSE,TRUE,Comment

COMMENT, Test Case 4:Verify that Auction cannot be started when state of underlying of Product is in Pre-open State
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,2,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXPRODUCT,$MM1,$SESSION6,$CLASS11PRODUCT1,9,1,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,FALSE,TRUE,Comment

COMMENT, Test Case 5:Verify that Auction cannot be started when state of Product is in Close State
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXPRODUCT,$MM1,$SESSION6,$CLASS11PRODUCT1,9,1,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,FALSE,TRUE,Comment

COMMENT, Test Case 6:Verify that Auction can be started when state of Product is in Fast State
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYCLASS,$SA1,$SESSION6,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,6,TRUE,TRUE,Comment
STARTAUCTIONFORFLEXPRODUCT,$MM1,$SESSION6,$CLASS11PRODUCT1,9,2,0,00,0,00:00:01.0,-,0,1,0,00,1,0,00,0,TRUE,TRUE,Comment

COMMENT, Test Case 8:Verify that Helpdesk user can change existing series product state from Halt to Pre-Open to Opening Rotation to Open
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,5,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,5,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment

COMMENT, Test Case 9:Verify that Helpdesk user can change existing series product state from Suspend to Pre-Open to Opening_Rotation to Open
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,10,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,10,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment

COMMENT, Test Case 10:Verify that Helpdesk user can change existing series product state from Fast to Open
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,6,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION6,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION6,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment


COMMENT, Test Case 11:Verify whether Flex Index series product state changes from to at 8:30:00AM Pre-open Opening Rotation

COMMENT, Test Case 12:Verify whether Flex Equity product state changes from to at 8:30:00AM Pre-open Opening Rotation

COMMENT, Test Case 13:Verify whether the state of existing product becomes pre-open at 8:29:55 AM

COMMENT, Test Case 14:Verify whether Flex Index series product state changes from to at 3:15:00PM Open Close

COMMENT, Test Case 15:Verify whether Flex Equity product state changes from to at 3:02:00PM Open Close

COMMENT, Test Case 16:Verify that product series becomes Suspend when underlying is Suspend

COMMENT, Test Case 17:Verify that product series becomes Halt when underlying is Halt

COMMENT, Test Case:Cleaning Up Task
FIXTRADERLOGOUT,$MM1,TRUE,TRUE,Comment
FIXTRADERLOGOUT,$BD1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,