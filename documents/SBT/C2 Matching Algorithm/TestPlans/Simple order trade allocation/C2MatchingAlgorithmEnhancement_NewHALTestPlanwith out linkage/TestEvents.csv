TESTSUITENAME,C2 Matching Algorithm Enhancement_New HAL Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:24

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API $MM3 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM3EXCHANGE,$MM3,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,M,1,Automated API $MM4 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM4EXCHANGE,$MM4,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,M,1,Automated API $MM5 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM5EXCHANGE,$MM5,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API $HOMT1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$HOMT1EXCHANGE,$HOMT1,A,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,M,1,Automated API $MM6 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM6EXCHANGE,$MM6,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,M,1,Automated API $MM7 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM7EXCHANGE,$MM7,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM8,$MM8EXCHANGE,$MM8EXECFIRM,M,1,Automated API $MM8 User,FALSE,TRUE,TRUE,New User for Clearing Firm "695" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$MM8EXCHANGE,$MM8,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST2,$CUST2EXCHANGE,$CUST2EXECFIRM,X,1,Automated API $CUST2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "939" and Exchange "CBOE2" !
VERIFYUSEREXISTENCE,$SA1,$CUST2EXCHANGE,$CUST2,X,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM4,$MM4,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM5,$MM5,$CASANDPORT,TRUE,TRUE,Comment
OMTLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM6,$MM6,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM7,$MM7,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM8,$MM8,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST2,$CUST2,$CASANDPORT,TRUE,TRUE,Comment


COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,4:true;-8:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,4:true;-8:true,TRUE,TRUE,Comment
SETALLOWEDHALORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWEDHALORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Comment
SETAUTOLINKORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUTOLINKORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:10000-10000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:10000-10000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,4:0;-8:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,4:0;-8:0,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$CLASS1,-8:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$CLASS1,-8:1,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5,TRUE,TRUE,Comment
SETALLOWEDHALARRAY,$SA1,$SESSION1,$CLASS1,1:2:3,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWEDHALARRAY,$SA1,$SESSION1,$CLASS1,1:2:3,TRUE,TRUE,Comment
SETPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.50;2-9999:0.40,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMRIGHTSSCALES,$SA1,$SESSION1,$CLASS1,0-1:1.00;1-2:0.50;2-9999:0.40,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$CLASS1,4:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$CLASS1,4:1-99999,TRUE,TRUE,Comment
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22 2=1;4,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=1;4;22 2=1;4,TRUE,TRUE,Comment
PAUSE,2000
REFRESHALLOCATIONSTRATEGYFORCLASS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYELIGIBLEPDPM,$SA1,$SESSION1,C,TRUE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,-8,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,4,TRUE,TRUE,Comment

COMMENT, Test Case 1:During HAL auction the inbound Auction responses with price WORSE than NBBO are pending and then BOTR worses and there is an update event the auction ENDS PREMATURELY and the ALLLOCATION for multiple Auction Responses to the Auctioned order (with IDENTICAL price and Qty GREATER than the Qty of the Auctioned Order) will be based on Price time(c2 matching algorithm) and any Remainder of the Auction Response is cancelled
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,LDH,9938,ABC,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,KLD,5467,ABC,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,DRY,4717,ABC,*,$MM4EXCHANGE,$MM4,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,QGN,3193,JIN,*,$MM5EXCHANGE,$MM5,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.35,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,VDY,1477,JIN,*,$MM6EXCHANGE,$MM6,4,$CLASS1PRODUCT1,S,2,1,27,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,KLD,5467,ABC,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,DRY,4717,ABC,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,QGN,3193,JIN,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:PREMATURE ENDING OF HAL AUCTION:Verify that during an ongoing HAL any inbound Orders or Quotes with WORSE price that NBBO (on the Opposite side to the auctioned order) are booked or join the CBOE book and then when BOTR worsens (CBOE becomes part of the NBBO) AND there is an incoming I-order from the SAME side as the Auctioned order AND with a price marketable with any of the resting Quotes or orders it (I-order) can trade at that price;ignoring the NBBO price
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,VYS,7886,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,S,2,0,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,S,100,2,1,10,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.35,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NXQ,519,JIN,*,$MM4EXCHANGE,$MM4,200,$CLASS1PRODUCT1,S,2,0,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,100,1,2,1,00,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NXQ,519,JIN,*,200,$SESSION1,1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 3:During the ongoing HAL the inbound orders with price WORSE than the NBBO on opposite side join CBOE book. When the BOTR worsens (CBOE becomes part of NBBO) and there is an update event (new Auction Response) then system verifies NBBO and trade allocation occurs up to the Quantity of the auctioned order. Verify that among ALL responses with identical prices the Customer order trades first up to FULL Quantity and then “Hall allocation stratergy” will applied for the remaining orders at the same price Hall allocation stratergy
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
CLEARALLCALLBACKS,$MM4
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,36,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RSZ,5129,JIN,*,$MM2EXCHANGE,$MM2,250,$CLASS1PRODUCT1,B,2,1,40,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION150,B,250,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YPQ,8566,JIN,*,$MM3EXCHANGE,$MM3,100,$CLASS1PRODUCT1,S,2,1,35,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION150,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RIU,932,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,EJL,3540,JIN,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,35,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION150,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,JJQ,3856,JIN,*,$MM6EXCHANGE,$MM6,50,$CLASS1PRODUCT1,S,2,1,30,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION150,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.35,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,OSR,3081,JIN,*,$MM7EXCHANGE,$MM7,20,$CLASS1PRODUCT1,S,2,1,29,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION150,$MM7,$MM7,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,OSR,3081,JIN,*,0,0,3,20,1,2,1,29,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,JJQ,3856,JIN,*,0,0,3,50,1,2,1,30,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RIU,932,ABC,*,0,0,3,100,1,2,1,35,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YPQ,8566,JIN,*,0,20,1,80,1,2,1,35,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 4:During the HAL auction the inbound Auction Responses with price WORSE than the NBBO on opposite side do not have any effect on ongoing HAL auction. When the BOTR worsens (CBOE becomes same as NBBO) then system verifies NBBO and trade
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,36,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM2,2,0,90,90,2,1,40,90,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,100,2,1,00,100,2,1,36,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,HOS,6821,ABC,*,$MM3EXCHANGE,$MM3,200,$CLASS1PRODUCT1,S,2,0,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,S,200,2,1,10,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,WXR,4354,JIN,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,07,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,PPW,7420,JIN,*,$MM5EXCHANGE,$MM5,110,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,JMK,5182,JIN,*,$MM6EXCHANGE,$MM6,110,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM6,$MM6,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.05,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM2,2,0,90,100,2,1,40,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,WXR,4354,JIN,*,0,0,3,100,1,2,1,07,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,PPW,7420,JIN,*,10,10,1,100,1,2,1,05,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 5:Verify that during the ongoing HAL auction:the resting QUOTE with the price on the SAME SIDE as the Auctioned order is UPDATED and this price becomes EQUAL to the NBBO (on the OPPOSITE SIDE of auctioned order at that time) must PREMATURELY END the HAL auction. THERE ARE AUCTION RESPONSES TO THE AUCTIONED ORDER. In the case of TWEENER there are no responses as they would end HAL auction prematurely
CLEARALLCALLBACKS,$MM1
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NGL,8002,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,B,2,1,40,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DYG,9041,JIN,*,$MM3EXCHANGE,$MM3,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,XDT,9335,JIN,*,$MM4EXCHANGE,$MM4,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,LNE,8951,JIN,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.15,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,25,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,LNE,8951,JIN,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DYG,9041,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,XDT,9335,JIN,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WST,4121,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,S,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION127,S,100,2,1,10,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YMB,7817,JIN,*,$MM3EXCHANGE,$MM3,90,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,GRK,9162,JIN,*,$MM4EXCHANGE,$MM4,9,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,GRK,9162,JIN,*,0,0,3,9,1,2,1,13,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YMB,7817,JIN,*,0,0,3,90,1,2,1,10,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,10,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,WST,4121,JIN,*,1,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,AWG,5244,JIN,*,$MM3EXCHANGE,$MM3,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION130,B,100,2,1,15,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,10,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,AWG,5244,JIN,*,100,$SESSION1,1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 6:Verify that during the ongoing HAL auction:the inbound QUOTE-LIKE ORDER with the price on the SAME SIDE as the Auctioned order BETTER than the NBBO (on the OPPOSITE SIDE of auctioned order at that time) must prematurely end the HAL auction. Verify also that the Responses to the Auctioned order that have identical prices and have Quantity greater than 100 follow c2 allocation
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,FRU,7465,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,S,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,S,100,2,1,10,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,AQK,3373,JIN,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,VLD,4069,JIN,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,UQF,6775,JIN,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.09,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,WFR,1887,JIN,*,$MM5EXCHANGE,$MM5,100,$CLASS1PRODUCT1,S,2,1,08,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,U,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,VLD,4069,JIN,*,0,0,3,50,1,2,1,09,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,AQK,3373,JIN,*,0,0,3,50,1,2,1,09,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,WFR,1887,JIN,*,100,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 7:Verify that during an ongoing HAL auction:the inbound IOC ORDER with price EQUAL to NBBO (on the Opposite side to the Auctioned Order) trades FULL Quantity. The IOC order had quantity equal to the Auctioned quantity thus the HAL auction ENDS PREMATURELY
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
CLEARALLCALLBACKS,$MM4
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,DKE,3945,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,B,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION145,B,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,CHB,6359,JIN,*,$MM3EXCHANGE,$MM3,100,$CLASS1PRODUCT1,S,2,1,25,D,21/12/2003 6:00:00.0,4,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,CHB,6359,JIN,*,0,0,3,100,1,2,1,25,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 8:Verify that the inbound IOC ORDER at tradable price with the current NBBO (on the Opposite side to the Auctioned Order) ENDS the HAL PREMATURELY. The pending responses trade following allocation. IOC order will not participates in the allocation and the remainder is CANCELLED
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,SLP,426,JIN,*,$MM2EXCHANGE,$MM2,90,$CLASS1PRODUCT1,B,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION146,B,90,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YLG,196,JIN,*,$MM3EXCHANGE,$MM3,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,SJY,6117,JIN,*,$MM4EXCHANGE,$MM4,40,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,YPD,1994,JIN,*,$MM5EXCHANGE,$MM5,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION146,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.27,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,JZQ,1786,JIN,*,$MM6EXCHANGE,$MM6,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,4,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,YLG,196,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,SJY,6117,JIN,*,0,0,3,40,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,YPD,1994,JIN,*,0,10,1,20,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 9:Verify that the inbound IOC ORDER at tradable price with the current NBBO (on the Opposite side to the Auctioned Order) ENDS the HAL PREMATURELY. The pending responses trade following allocation. When Price time allocation takes place IOC MM order will participates
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,RZE,5041,JIN,*,$MM2EXCHANGE,$MM2,90,$CLASS1PRODUCT1,B,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION146,B,90,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,VTS,2344,JIN,*,$MM3EXCHANGE,$MM3,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,LJG,5067,JIN,*,$MM4EXCHANGE,$MM4,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION146,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.27,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RKJ,6909,JIN,*,$MM6EXCHANGE,$MM6,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,4,1,0,00,0,-,-,-,$MM6,$MM6,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,VTS,2344,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,LJG,5067,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,RKJ,6909,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 10:Verify that the inbound IOC ORDER at SUPER-tradable price with the current NBBO (on the Opposite side to the Auctioned Order) ENDS the HAL PREMATURELY. IOC order trades fully at BEST price
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NKB,8255,JIN,*,$MM2EXCHANGE,$MM2,140,$CLASS1PRODUCT1,B,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION160,B,140,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DMO,8202,JIN,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,ALQ,3280,JIN,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,JLU,6311,JIN,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION160,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.27,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MOV,3686,JIN,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,25,D,21/12/2003 6:00:00.0,4,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MOV,3686,JIN,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,ALQ,3280,JIN,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DMO,8202,JIN,*,0,10,1,40,1,2,1,26,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DMO,8202,JIN,*,10,$SESSION1,1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 11:Limit order with valid quotes and matching resting customer orders in the book. Hal will trade at CBOE START HAL AUCTION RESPONSE NBBO become worse than CBOE). PMM allocation 50% and Price time allocation is taking place when the HALO auction end
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,05,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MQA,4369,ABC,*,$MM4EXCHANGE,$MM4,300,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,TDP,9375,ABC,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SVR,6177,ABC,*,$MM1EXCHANGE,$MM1,150,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YOP,8499,JIN,*,$CUST1EXCHANGE,$CUST1,300,$CLASS1PRODUCT1,S,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION126,S,300,2,1,10,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,JRO,8322,ABC,*,$MM6EXCHANGE,$MM6,100,$CLASS1PRODUCT1,B,2,1,09,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION126,$MM6,$MM6,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,“NYSE:B:1.08:10:BOTR:N:A:1.31:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,TDP,9375,ABC,*,0,0,3,50,1,2,1,09,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SVR,6177,ABC,*,0,50,1,100,1,2,1,09,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MQA,4369,ABC,*,0,150,1,150,1,2,1,09,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MQA,4369,ABC,*,150,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SVR,6177,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 12:Verify that during the ongoing HAL auction:the inbound NON-QUOTE-LIKE ORDER with the price on the SAME SIDE as the Auctioned order and tradeable with NBBO C order will come on the SAME SIDE of auctioned order at the time of auction). BOTR change and prematurely end the HAL auction. THERE ARE AUCTION RESPONSES TO THE INITIAL AUCTIONED ORDER
CLEARALLCALLBACKS,$MM1
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:100:BOTR:N:A:1.25:100:BOTR:N,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,200,2,1,36,200,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NER,3556,ABC,*,$MM4EXCHANGE,$MM4,150,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XFT,1811,ABC,*,$MM1EXCHANGE,$MM1,80,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,KXY,7958,ABC,*,$MM5EXCHANGE,$MM5,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,BHM,779,JIN,*,$CUST1EXCHANGE,$CUST1,150,$CLASS1PRODUCT1,B,2,1,35,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION127,B,150,2,1,25,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.31,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,WTP,1883,JIN,*,$MM7EXCHANGE,$MM7,12,$CLASS1PRODUCT1,B,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM7,$MM7,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM7,$MM7EXCHANGE,$MM7EXECFIRM,WTP,1883,JIN,*,0,0,3,12,2,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,KXY,7958,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XFT,1811,ABC,*,0,15,1,65,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XFT,1811,ABC,*,0,9,1,6,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NER,3556,ABC,*,0,85,1,65,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NER,3556,ABC,*,0,79,1,6,1,2,1,26,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XFT,1811,ABC,*,9,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NER,3556,ABC,*,79,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 13:During HAL auction the inbound Auction responses with price WORSE than NBBO are pending and then BOTR worses and there is an update event the auction ENDS PREMATURELY and the ALLLOCATION for multiple Auction Responses to the Auctioned order (with IDENTICAL price and Qty GREATER than the Qty of the Auctioned Order) will be based on Price time(c2 matching algorithm) and any Remainder of the Auction Response is cancelled
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,XGL,8301,ABC,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,OOK,8681,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LBY,1847,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YFC,5639,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,TMJ,3418,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,OOK,8681,ABC,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LBY,1847,ABC,*,0,30,1,20,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,70,30,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,YFC,5639,JIN,*,0,0,3,100,3,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LBY,1847,ABC,*,30,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,XGL,8301,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,TMJ,3418,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 14:During the trade allocation all quotes or orders testing in the book before the auciotn has started must be allocated using allocaiotn trade tyoe or Regualr configure and then rest will trade as Hal allcotion
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,KEE,5377,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UHR,1911,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FMP,6681,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KIE,7735,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,KEE,5377,ABC,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UHR,1911,ABC,*,0,25,1,25,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,75,25,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FMP,6681,JIN,*,0,0,3,100,3,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UHR,1911,ABC,*,25,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KIE,7735,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 15:Verify during On going HaL auction the in bound quote and quote like orders are worsen than the NBBO on opposite side join the CBOE book immd. When BOTR worsen one of the qwuote cancelled and resting order will trade with Regualr configure and HAl configure
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM4,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,LDT,6052,ABC,*,$MM4EXCHANGE,$MM4,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CKK,2242,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,ZJJ,3761,ABC,*,$MM3EXCHANGE,$MM3,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,U,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,BOF,6979,ABC,*,$MM4EXCHANGE,$MM4,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,Z,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,YCN,702,ABC,*,$MM5EXCHANGE,$MM5,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,FYH,339,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
QUOTECANCEL,$MM4,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM4,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,LDT,6052,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CKK,2242,ABC,*,0,18,1,32,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,52,48,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CKK,2242,ABC,*,18,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 16:During the trade allocation all quotes or orders testing in the book before the auciotn has started must be allocated using allocaiotn trade tyoe or Regualr configure and then rest will trade as Hal allcotion
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,DRU,4828,ABC,*,$MM4EXCHANGE,$MM4,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DFI,1606,ABC,*,$MM1EXCHANGE,$MM1,15,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TWE,8467,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VDF,4984,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,DRU,4828,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DFI,1606,ABC,*,0,0,3,15,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,TWE,8467,ABC,*,0,0,3,10,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,45,55,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VDF,4984,JIN,*,0,0,3,100,4,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 17:During the trade allocation all quotes or orders testing in the book before the auciotn has started must be allocated using allocaiotn trade tyoe or Regualr configure and then rest will trade as Hal allcotion.Auction response will be cancelled
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,GDG,301,ABC,*,$MM4EXCHANGE,$MM4,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVV,8598,ABC,*,$MM1EXCHANGE,$MM1,15,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NGY,8284,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,EHO,6044,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,XUQ,2327,ABC,*,$MM4EXCHANGE,$MM4,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,GDG,301,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVV,8598,ABC,*,0,0,3,15,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NGY,8284,ABC,*,0,0,3,10,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,45,55,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,EHO,6044,JIN,*,0,0,3,100,4,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 18:Verify that during the ongoing HAL auction:the resting QUOTE with the price on the SAME SIDE as the Auctioned order is UPDATED and this price becomes EQUAL to the NBBO (on the OPPOSITE SIDE of auctioned order at that time) must PREMATURELY END the HAL auction. THERE ARE AUCTION RESPONSES TO THE AUCTIONED ORDER. In the case of TWEENER there are no responses as they would end HAL auction prematurely
CLEARALLCALLBACKS,$MM1
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,35,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MMN,503,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,B,2,1,40,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,VQP,7989,JIN,*,$MM3EXCHANGE,$MM3,30,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,IUD,3977,JIN,*,$MM4EXCHANGE,$MM4,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BQY,5008,JIN,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.15,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,25,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,BQY,5008,JIN,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,VQP,7989,JIN,*,0,0,3,30,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,IUD,3977,JIN,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YKM,6674,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,S,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION127,S,100,2,1,10,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,RFS,6923,JIN,*,$MM3EXCHANGE,$MM3,90,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MUT,4082,JIN,*,$MM4EXCHANGE,$MM4,9,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MUT,4082,JIN,*,0,0,3,9,1,2,1,13,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,RFS,6923,JIN,*,0,0,3,90,1,2,1,10,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,10,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,YKM,6674,JIN,*,1,$SESSION1,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,OSQ,609,JIN,*,$MM3EXCHANGE,$MM3,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION130,B,100,2,1,15,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,10,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,OSQ,609,JIN,*,100,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 19:During the trade allocation all quotes or orders testing in the book before the auciotn has started must be allocated using allocaiotn trade tyoe or Regualr configure and then rest will trade as Hal allcotion.AON with customer will get allocation only in the end. 50 allocation
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,OBJ,1769,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,2,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YOI,6990,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,YLU,467,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QEC,6737,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UPP,6444,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,YLU,467,ABC,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YOI,6990,ABC,*,0,25,1,25,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,75,25,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QEC,6737,JIN,*,0,0,3,100,3,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YOI,6990,ABC,*,25,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,OBJ,1769,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UPP,6444,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 20:During the trade allocation all quotes or orders testing in the book before the auciotn has started must be allocated using allocaiotn trade tyoe or Regualr configure and then rest will trade as Hal allcotion.AON with customer will get allocation only in the end.40 allocation
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,00,100,2,1,26,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,CVJ,7215,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,2,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,QWF,4744,ABC,*,$MM4EXCHANGE,$MM4,150,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAX,9506,ABC,*,$MM1EXCHANGE,$MM1,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,CSI,5296,ABC,*,$MM4EXCHANGE,$MM4,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VTT,6757,JIN,*,$CUST1EXCHANGE,$CUST1,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
PAUSE,1100
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.27:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,CSI,5296,ABC,*,0,0,3,50,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAX,9506,ABC,*,0,30,1,20,1,2,1,26,TRUE,TRUE,Comment
QUOTEFILLVERIFICATION,$MM3,$CLASS1PRODUCT1,$SESSION1,70,30,1,2,1,26,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,VTT,6757,JIN,*,0,0,3,100,3,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAX,9506,ABC,*,30,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,QWF,4744,ABC,*,150,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,CVJ,7215,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment

COMMENT, Test Case 21:Limit order with valid quotes and matching quote like order resting on the top of the book. Hal will trade at CBOE START HAL AUCTION RESPONSE NBBO become worse than CBOE). PMM allocation 50% and Price time allocation is taking place when the HALO auction end
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,05,100,2,1,36,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RWW,4458,ABC,*,$MM4EXCHANGE,$MM4,150,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,MQM,7670,ABC,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BBD,7022,ABC,*,$MM1EXCHANGE,$MM1,80,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DJN,1414,ABC,*,$MM3EXCHANGE,$MM3,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,NFH,6228,JIN,*,$CUST1EXCHANGE,$CUST1,150,$CLASS1PRODUCT1,B,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION126,B,150,2,1,25,TRUE,TRUE,Comment
ORDER,$MM6,$MM6EXCHANGE,$MM6EXECFIRM,DFT,2736,ABC,*,$MM6EXCHANGE,$MM6,100,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION126,$MM6,$MM6,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,“NYSE:B:1.08:10:BOTR:N:A:1.31:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,DJN,1414,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BBD,7022,ABC,*,0,28,1,52,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RWW,4458,ABC,*,0,72,1,78,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RWW,4458,ABC,*,72,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BBD,7022,ABC,*,28,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,MQM,7670,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 22:Limit order with valid quotes and matching quote like order resting on the top of the book. Hal will trade at CBOE.HAL will start Customer order will come in th HAL auction time PMM allocation 40% and Price time allocation is taking place when the HAL auction end. Regular allocation will takes place first and then Hal allocation. When Customer join in HAl auction time that customer will get allocation only after regular allocation
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.10:10:BOTR:N:A:1.25:10:BOTR:N,TRUE,TRUE,Comment
SETAFFILIATEDFIRMFORUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM1
SETAFFILIATEDFIRMFORUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2AFFILIATE,TRUE,TRUE,$SA1 sets Firm Affiliation for user $MM2
SETPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPDPMASSIGNMENT,$SA1,$CUST1,$SESSION1,$MM3EXCHANGE,$CUST2EXECFIRM,$CLASS1,JIN,Default,ALL,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM3,2,1,05,100,2,1,36,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,KLV,1809,ABC,*,$MM4EXCHANGE,$MM4,150,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM4,$MM4,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,DIT,8593,ABC,*,$MM5EXCHANGE,$MM5,50,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BKH,8631,ABC,*,$MM1EXCHANGE,$MM1,80,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,XUT,52,ABC,*,$MM3EXCHANGE,$MM3,20,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM3,$MM3,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,KSQ,945,JIN,*,$CUST1EXCHANGE,$CUST1,150,$CLASS1PRODUCT1,B,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION126,B,150,2,1,25,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KXN,5774,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,“NYSE:B:1.08:10:BOTR:N:A:1.31:10:BOTR:N,TRUE,TRUE,Comment
PAUSE,40000
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,XUT,52,ABC,*,0,0,3,20,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BKH,8631,ABC,*,0,28,1,52,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,KLV,1809,ABC,*,0,72,1,78,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,KLV,1809,ABC,*,72,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BKH,8631,ABC,*,28,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,KXN,5774,ABC,*,10,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,DIT,8593,ABC,*,50,$SESSION1,1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 23:Verify that during ongoing HAL the outbound acution responses at worse price than NBBO are pending BOTR woesen. Once there is an updat event Hal End Prematurely and the allocation for mutilpe auction response to the auctioned order with Identiocal orice will be based on HaL 2 allocation. Unused responses is cancelled
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,50,2,1,35,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZOS,9800,JIN,*,$MM2EXCHANGE,$MM2,100,$CLASS1PRODUCT1,B,2,1,27,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,B,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,KHP,5874,JIN,*,$MM3EXCHANGE,$MM3,40,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RMV,3662,JIN,*,$MM4EXCHANGE,$MM4,60,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,EFB,7424,JIN,*,$MM5EXCHANGE,$MM5,40,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QNP,4757,JIN,*,$MM2EXCHANGE,$MM2,40,$CLASS1PRODUCT1,S,2,1,26,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM2,$MM2,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.09,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.26,NYSE=100,TRUE,TRUE,Comment
ORDERCANCELNOWAIT,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,QNP,4757,JIN,*,40,$SESSION1,1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,KHP,5874,JIN,*,0,0,3,40,1,2,1,26,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,RMV,3662,JIN,*,0,0,3,60,1,2,1,26,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 24:During the ongoing HAL the inbound Auction Responses with price WORSE than the NBBO on opposite side do not have any effect on ongoing HAL auction. When the BOTR worsens (CBOE becomes part of NBBO) and one Quote is updated then system verifies NBBO and trade. VERIFY that the allocation occurs up to the Quantity of the Auctioned order. ANY AUCTION RESPONSE WITH MARKETBALE PRICE TRADE up to the desired Quantity
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
CLEARALLCALLBACKS,$MM3
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.10,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,36,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,90,2,1,40,90,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZBO,5410,JIN,*,$MM2EXCHANGE,$MM2,200,$CLASS1PRODUCT1,S,2,0,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM2,$MM2,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION123,S,200,2,1,10,TRUE,TRUE,Comment
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,QPY,6206,JIN,*,$MM3EXCHANGE,$MM3,100,$CLASS1PRODUCT1,B,2,1,07,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM3,$MM3,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,UCW,5415,JIN,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM4,$MM4,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM5,$MM5EXCHANGE,$MM5EXECFIRM,ZVJ,7465,JIN,*,$MM5EXCHANGE,$MM5,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM5,$MM5,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,AMY,6835,JIN,*,$MM2EXCHANGE,$MM2,110,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,14,1,0,00,0,-,-,$AUCTION123,$MM2,$MM2,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.05,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.25,NYSE=100,TRUE,TRUE,Comment
QUOTE,$MM2,2,1,00,100,2,1,40,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,QPY,6206,JIN,*,0,0,3,100,1,2,1,07,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZBO,5410,JIN,*,0,100,1,100,1,2,1,07,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,UCW,5415,JIN,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,ZBO,5410,JIN,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE2,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM3,TRUE,TRUE,Comment
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM6,TRUE,TRUE,Comment
TRADERLOGOUT,$MM7,TRUE,TRUE,Comment
TRADERLOGOUT,$MM4,TRUE,TRUE,Comment
TRADERLOGOUT,$MM5,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST2,TRUE,TRUE,Comment
OMTLOGOUT,$HOMT1,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM8,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,