TESTSUITENAME,Aim_Order_With_Autolink_Request where both PO and MO have W origins,
PRINTOUTPUTHEADING,
STARTPOINT,

COMMENT,Connect to the ITG Linkage Router (RMI Server) 
CONNECTTOITGLINKAGEROUTER,TRUE,TRUE,Connects to ITG Linkage Router(RMI Server),

COMMENT,Log in HD User and Perform Test Requirements,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Log in the HD User,
SELECTREPORTINGCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST,TRUE,TRUE,Select Reporting Class,

CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API MM User,FALSE,TRUE,TRUE,Comment,
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API MM User,FALSE,TRUE,TRUE,Comment,
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API MM User,FALSE,TRUE,TRUE,Comment,
CREATEUSER,$SA1,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,M,1,Automated API MM User,FALSE,TRUE,TRUE,Comment,
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API Help Desk OMT User,FALSE,TRUE,TRUE,Comment HELP_DESK_OMT ,

COMMENT,Log in initial CMI & PAR test users & perform system verifications,
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Logging in,
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Logging in,
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Logging in,
TRADERLOGIN,$MM4,$MM4,$CASANDPORT,TRUE,TRUE,Logging in,
OMTLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Logging in,

COMMENT,Set up Subscriptions for the Class,
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Subscribe for CurrentMarket,
SUBSCRIBERECAP,$MM1,$SESSION1,$CLASS1PRODUCT1,TRUE,TRUE,Subscribe for Last Sale (recap),
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,4,TRUE,TRUE,Subscribe Auction for complex orders,
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,-8,TRUE,TRUE,Subscribe Auction for complex orders,
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,1,TRUE,TRUE,Subscribe Auction for complex orders,

COMMENT,Set/Verify Needed Routing Properties for Class1,
REMOVEALLFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,TRUE,TRUE,Remove Firm Volume Limit
REMOVEALLVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,SIMPLE,TRUE,TRUE,Remove All Volume check deviation,
REMOVEALLFIRMCORRBRANCHOMT,$SA1,$MM1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,-,-,TRUE,TRUE,Remove Firm Corr Branch OMT 
REMOVEALLBOOTHDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,TRUE,TRUE,Remove Booth Default Destination
REMOVEALLBOOTHDIRECTROUTING,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,TRUE,TRUE,Remove Booth Direct Routing
REMOVEALLPARDIRECTROUTING,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,TRUE,TRUE,Remove Par Direct Routingn
REMOVEALLFIRMCLASSPARDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,TRUE,TRUE,Remove Firmn Volume Limit
REMOVEALLHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,TRUE,TRUE,Remove Help Desk Default Destination
REMOVEALLSESSIONCLASSPARROUTING,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,Remove Session Class Par Routing Parameters
REMOVEREASONABILITYEDIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,TRUE,TRUE,Set Reasonability Edit

COMMENT,Step 3: Verify Session State; Set/Verify Product States,
CLEARALLCALLBACKS,$SA1,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Set Product State to close,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Set Product State to opening rotation,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Set Product State to open,
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Verify product is open,

COMMENT,PRE TEST CONDITIONS (RP's) for Class1,
SETALLOWINCOMINGISOORDERS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Remove Session Class Par Routing Parameters
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Set Firm Volume Limit
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Set Firm Volume Limit
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Set Helpdesk Default Destination
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Verify Helpdesk Default Destination
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,49999,All,$TE,SIMPLE,TRUE,TRUE,Set Volume check deviation,
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,49999,All,$TE,SIMPLE,TRUE,TRUE,Verify Volume check deviation,
SETDISABLELINKAGEONPAR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Remove Session Class Par Routing Parameters
SETREASONABILITYEDIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,GroupA,TRUE,TRUE,Set Reasonability Edit

COMMENT,Set Trading Property for Option,
SETALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,5=1;4;30;31;32 6=1;4;31;32 0=2;4;20 2=1;4;32,TRUE,TRUE,Set Allocation Strategies,
VERIFYALLOCATIONSTRATEGIES,$SA1,$SESSION1,$CLASS1,0=2;4;20 2=1;4;32 5=1;4;30;31;32 6=1;4;31;32,TRUE,TRUE,Verify Allocation Strategies,
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,1:TRUE;4:TRUE;-8:TRUE,TRUE,TRUE,Set Auction Enabled
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,1:TRUE;4:TRUE;-8:TRUE,TRUE,TRUE,Set Auction Enabled
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$CLASS1,4:1-99999;-8:1-99999;1:1-99999,TRUE,TRUE,Set Auction Min Max OrderSize,
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$CLASS1,4:1-99999;-8:1-99999;1:1-99999,TRUE,TRUE,Set Auction Min Max OrderSize,
SETALLOWMARKETORDER,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Set Allow Market Order,
SETAUCTIONMINPRICEINCREMENT,$SA1,$SESSION1,$CLASS1,4:0;1:0;-8:0,TRUE,TRUE,Set Price Increment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:1;4:1;1:1,TRUE,TRUE,Set Auction Minimum Quoters
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:1;4:1;1:1,TRUE,TRUE,Set Auction Minimum Quoters
SETAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$CLASS1,1:0;-8:0;4:0,TRUE,TRUE,Set Auction Order Ticks Away from NBBO,
VERIFYAUCTIONORDERTICKSAWAYFROMNBBO,$SA1,$SESSION1,$CLASS1,1:0;-8:0;4:0,TRUE,TRUE,Set Auction Order Ticks Away from NBBO,
SETALLOWEDHALORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Set Allowed HAL orign Types,
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$CLASS1,4:1;1:1;-8:1,TRUE,TRUE,Set Auction Receiver Type
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$CLASS1,4:1;1:1;-8:1,TRUE,TRUE,Verify Auction Receiver Type
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,4:15000-15000;-8:15000-15000;1:15000-15000,TRUE,TRUE,Set Auction time To live 11 - 11 sec's
SETALLOWEDHALARRAY,$SA1,$SESSION1,$CLASS1,1:2:3,TRUE,TRUE,Set Allowed HAL Types,
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.50;3.0-10.0:1.00;10.0-99999:2.00,TRUE,TRUE,Set Exchange Prescribed Width for Regular Option Class,

COMMENT,Set Linkage Property ,
MODIFYAUTOLINKEXPIRATIONTIMER,$SA1,$CLASS1,30000,TRUE,TRUE,Modify the Auto Link Expiration Timer
LINKAGEENABLE,$SA1,$SESSION1,$CLASS1SYM,TRUE,TRUE,Linkage Enable...,
SETDEFAULTLINKAGEROUTERSTATUS,$SA1,$SESSION1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,TRUE,Remove Session Class Par Routing Parameters
SETLINKAGEROUTERVENDORASSIGNMENT,$SA1,$SESSION1,Default,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,Set Helpdesk Default Destination
SETAUTOLINKDISQUALIFIEDEXCHANGES,$SA1,$SESSION1,$CLASS1,1:0;2:0;3:0;4:0;5:0;6:0,TRUE,TRUE,Set Auto Link Disqualified Exchanges
SETAONSOLICITATIONMINIMUMQUANTITY,$SA1,$SESSION1,$CLASS1,500,TRUE,TRUE,Set UMA Split Rate
SETAUTOLINKORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;13:1,TRUE,TRUE,Set Auto Link Origin Codes,
SETINTERNALIZATIONGUARANTEEDPERCENTAGE,$SA1,$SESSION1,$CLASS1,1:0-1:1.00;1:1-2:0.50;1:2-99999:0.40,TRUE,TRUE,Set Internalization Guaranteed Percentage,
SETUMASPLITRATE,$SA1,$SESSION1,$CLASS1,0.5,TRUE,TRUE,Set UMA Split Rate
SETMARKETORDERDRILLTHROUGH,$SA1,$SESSION1,$CLASS1,0.0:3.0:-1;3.0:10.0:-1;10.01:49999.0:-1,TRUE,TRUE,Set Exchange Prescribed Width for Regular Option Class,
SETAUTOLINKPREFERREDTIEEXCHANGES,$SA1,$SESSION1,$CLASS1,1:2;2:6;3:5;4:1;5:4;6:3,TRUE,TRUE, Set Auto Link Preferred Tie Exchanges





COMMENT,SCENARIO 27.Verify for the inbound AIM Order with Auto-Link request (both PO & MO are Customers) that while there is still NO report from the Away Exchange, any remainder of unfilled PO & MO remainder are on hold. Once the OHS Timer expires, PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Set Product State to pre open,
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Verify product pre open,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MKP,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MKP,002,ABC,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,S,2,1,50,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM3,$MM3,C,FALSE,M,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,MKP,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MKP,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,0,50,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,004,ABC,*,0,70,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,10,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,60000,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,0,0,3,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,004,ABC,*,0,20,1,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,20,TRUE,TRUE,Order Cancel Verification,
LINKAGEORDERFILLV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MKP,003,ABC,*,00,50,0,50,3,1,B,2,1,10,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,NYSE,TRUE,TRUE,Linkage Order Fill Report for c1,

DKMESSAGEATOMTVERIFICATION,$HOMT1,NYSE,TRUE,TRUE,Dk Message at OMT Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
ORDERCANCEL,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MKP,002,ABC,*,50,$SESSION1,1,TRUE,TRUE,Event Comment,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,






COMMENT,SCENARIO 28.Verify for the inbound AIM Order with Auto-Link request (both PO & MO are Customers) that while there is still NO report from the Away Exchange, any remainder of unfilled PO & MO remainder are on hold. Once the OHS Timer expires, PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAN,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAN,002,ABC,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,S,2,1,50,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM3,$MM3,C,FALSE,M,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,MAN,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAN,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,0,50,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,004,ABC,*,0,70,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,10,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,60000,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,0,0,3,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,004,ABC,*,0,20,1,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,20,TRUE,TRUE,Order Cancel Verification,
LINKAGEORDERFILLV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAN,003,ABC,*,00,50,0,20,3,1,B,2,1,10,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,NYSE,TRUE,TRUE,Linkage Order Fill Report for c1,
DKMESSAGEATOMTVERIFICATION,$HOMT1,NYSE,TRUE,TRUE,Dk Message at OMT Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
ORDERCANCEL,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAN,002,ABC,*,50,$SESSION1,1,TRUE,TRUE,Event Comment,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,






COMMENT,SCENARIO 29.Verify for the inbound AIM Order with Auto-Link request (both PO & MO are Customers) that while there is still NO report from the Away Exchange, any remainder of unfilled PO & MO remainder are on hold. Once the OHS Timer expires, PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
ORDER,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAM,002,ABC,*,$MM3EXCHANGE,$MM3,50,$CLASS1PRODUCT1,S,2,1,50,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM3,$MM3,C,FALSE,M,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,MAM,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,0,50,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,004,ABC,*,0,70,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,10,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,60000,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,0,0,3,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,004,ABC,*,0,20,1,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,20,TRUE,TRUE,Order Cancel Verification,
LINKAGEORDERFILLV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAM,003,ABC,*,00,50,0,20,3,1,B,2,1,10,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,NYSE,TRUE,TRUE,Linkage Order Fill Report for c1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
ORDERCANCEL,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAM,002,ABC,*,50,$SESSION1,1,TRUE,TRUE,Event Comment,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,




COMMENT,ONGOING OHS TIMER & inbound REPORT from the Away Exchange
COMMENT,SCENARIO 30.Verify for the inbound AIM Order with Auto-Link request (both PO & MO are Customers) that while the OHS Timer continues, then any remainder of unfilled PO & MO remainder are put on hold.  Once the LAST report from the Away Exchange arrives at CBOE, any unfilled Q-ty for PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MMM,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
QUOTE,$MM3,2,1,00,10,2,1,50,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,MMM,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MMM,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,0,50,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,004,ABC,*,0,70,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,20,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,3000,
LINKAGECANCELREPORTV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,50,0,0,50,1,B,2,1,10,O,C,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,NYSE,FALSE,TRUE,TRUE,Linkage Cancel Report,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,003,ABC,*,0,0,3,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,004,ABC,*,0,20,1,50,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MMM,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,20,TRUE,TRUE,Order Cancel Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,





COMMENT,SCENARIO 31.Verify for the inbound AIM Order with Auto-Link request (both PO & MO are Customers) that while the OHS Timer continues any remainder of unfilled PO & MO remainder are put on hold.  Once the last report from the Away Exchange arrives at CBOE, any remaining Quantity of PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NNN,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
QUOTE,$MM3,2,1,00,10,2,1,50,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,40,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,NNN,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,40,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,NNN,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,0,50,1,30,1,2,1,40,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,004,ABC,*,0,70,1,30,1,2,1,40,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,20,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
PAUSE,3000,
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,3000,
LINKAGEORDERFILLV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,50,20,0,30,3,1,B,2,1,10,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,NYSE,TRUE,TRUE,Linkage Order Fill Report for c1,
PAUSE,5000,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,0,30,1,20,1,2,1,10,TRUE,TRUE,Order Fill Verification M2 ,
PAUSE,60000,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,003,ABC,*,0,0,3,30,1,2,1,40,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,004,ABC,*,0,40,1,30,1,2,1,40,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,NNN,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,40,TRUE,TRUE,Order Cancel Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,




COMMENT,SCENARIO 32.Verify that when the AIM auction has ENDED but OHS Timer continues, then any remainder of PO is put on hold.  Once the last report from the Away Exchange arrives at CBOE, any remaining Quantity of PO trades immediately with MO.  The remainder of MO is CANCELLED,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:1.00:50:BOTR:N:A:1.10:50:BOTR:N,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,10,2,1,20,10,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,10,10,TRUE,TRUE,Current Market Query,
ORDER,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAY,001,ABC,*,$MM2EXCHANGE,$MM2,10,$CLASS1PRODUCT1,S,2,1,25,D,01/01/2004  6:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,C,C,2,-,-,$SESSION1,TRUE,TRUE,Enter Sell Order C1,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,10,2,1,00,2,10,2,1,20,10,2,1,25,TRUE,TRUE,Verify Book Depth
QUOTE,$MM3,2,1,00,10,2,1,50,50,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
PAUSE,2000,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,3,10,2,1,20,10,2,1,25,50,2,1,50,TRUE,TRUE,Verify Book Depth

INTERNALIZEDORDER,$MM4,2,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,B,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM4EXCHANGE,$MM4EXECFIRM,MAY,004,ABC,*,$MM4EXCHANGE,$MM4,100,$CLASS1PRODUCT1,S,2,1,30,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM4,$MM4,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,0,90,1,10,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
QUOTEFILLVERIFICATION,$MM1,$CLASS1PRODUCT1,$SESSION1,0,10,1,2,1,20,User Assigned Id,TRUE,TRUE,Event Comment...,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,0,80,1,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAY,001,ABC,*,0,0,3,10,1,2,1,25,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,0,50,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,004,ABC,*,0,70,1,30,1,2,1,30,TRUE,TRUE,Order Fill Verification M2 ,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,50,20,50,TRUE,TRUE,Current Market Query,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
LINKAGEORDERVERIFICATIONV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,$MM4EXCHANGE,$MM4EXCHANGE,50,$CLASS1PRODUCT1,B,2,1,10,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,NYSE,$MM4,$MM4,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM4 enters an order from CMI,
PAUSE,3000,
LINKAGEORDERFILLV2,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,00,50,0,50,3,1,B,2,1,10,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,NYSE,TRUE,TRUE,Linkage Order Fill Report for c1,
ORDERFILLVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,003,ABC,*,0,0,3,50,1,2,1,10,TRUE,TRUE,Order Fill Verification M2 ,
PAUSE,6000,
ORDERCANCELVERIFICATION,$MM4,$MM4EXCHANGE,$MM4EXECFIRM,MAY,004,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,70,TRUE,TRUE,Order Cancel Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,20,2,1,00,1,50,2,1,50,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
QUOTECANCEL,$MM3,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,





COMMENT,SCENARIO 33.Verify that the eligible AIM Order with Auto-Link request triggers AIM auction.  Once auction ENDS, PO trades with MO.  There is NO Auto-Link due to MO price,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Set Product State to pre open,
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Set Product State to pre open,
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Verify product pre open,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINORDERSIZEFORTICKSABOVENBBO,$SA1,$SESSION1,$CLASS1,1:9999-1;-8:9999-1;4:9999-1,TRUE,TRUE,Set Min Max Order size
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:0;1:0;-4:0,TRUE,TRUE,Set Auction Minimum Quoters
SETAUTOLINKPREFERREDTIEEXCHANGES,$SA1,$SESSION1,$CLASS1,1:2;2:6;3:5;4:1;5:4;6:3,TRUE,TRUE, Set Auto Link Preferred Tie Exchanges
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,BOX:B:1.00:15:BOTR:B:A:1.15:10:BOTR:B;PHLX:B:1.00:50:BOTR:B X:A:1.15:50:BOTR:B X;ISE:B:1.00:20:BOTR:B X I:A:1.40:20:BOTR:B X,TRUE,TRUE,Set Buy BOTR,

INTERNALIZEDORDER,$MM3,2,$MM3EXCHANGE,$MM3EXECFIRM,MAB,001,ABC,*,$MM3EXCHANGE,$MM3,70,$CLASS1PRODUCT1,B,2,1,15,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM3,$MM3,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM3EXCHANGE,$MM3EXECFIRM,MAB,002,ABC,*,$MM3EXCHANGE,$MM3,70,$CLASS1PRODUCT1,S,2,1,15,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM3,$MM3,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION1,B,70,1,0,0,FALSE,TRUE,Find RFP,
PAUSE,10000,
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAB,001,ABC,*,0,0,3,70,1,2,1,15,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,MAB,002,ABC,*,0,0,3,70,1,2,1,15,TRUE,TRUE,Order Fill Verification M2 ,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:1;1:1;-4:1,TRUE,TRUE,Set Auction Minimum Quoters





COMMENT,AIM Order with Auto-Link request & both PO & MO are CUSTOMERS,
COMMENT,SCENARIO 34.Verify that the eligible AIM Order with Auto-Link request and CUSTOMER origins for both PO & MO must not start AIM auction, BUT must SWEEP & LINK AWAY simultaneously regardless the NBBOVerify also that MO must NOT be CANCELLED unless all reports from Away Exchanges have returned.,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,
CLEARALLCALLBACKS,$MM1,
CLEARALLCALLBACKS,$MM2,
CLEARALLCALLBACKS,$SA1,
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,-8:3;4:3;-4:3,TRUE,TRUE,Set Auction Minimum Quoters
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,BOX:B:1.00:150:BOTR:B:A:1.15:150:BOTR:B;PHLX:B:1.00:200:BOTR:B X:A:1.25:200:BOTR:B;NYSE:B:1.00:20:BOTR:B X N:A:1.40:20:BOTR:B,TRUE,TRUE,Set Buy BOTR,
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id,TRUE,TRUE,Event Comment...,
CURRENTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,2,1,00,2,1,20,100,100,TRUE,TRUE,Current Market Query,

INTERNALIZEDORDER,$MM2,2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,$MM2EXCHANGE,$MM2,250,$CLASS1PRODUCT1,B,2,1,20,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,W,C,1,A:AIS;,-,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,MAM,011,ABC,*,$MM2EXCHANGE,$MM2,250,$CLASS1PRODUCT1,S,2,1,20,D,01/12/2008 11:00:00.0,1,2,0,0,0,-,-,-,$MM2,$MM2,C,FALSE,W,C,1,-,-,$SESSION1,TRUE,TRUE,Enter Internalized Order
PAUSE,6000,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,0,150,1,100,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,011,ABC,*,0,150,1,100,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
LINKAGEORDERVERIFICATIONV2,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,$MM2EXCHANGE,$MM2EXCHANGE,150,$CLASS1PRODUCT1,B,2,1,15,D,01/01/2004 6:00:00.0,1,2,0,00,0,-,-,BOX,$MM2,$MM2,O,FALSE,C,C,2,-,-,$SESSION1,$SA1,$CLASS1,TRUE,TRUE,MM2 enters an order from CMI,
LINKAGEORDERFILLV2,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,150,90,0,60,3,1,B,2,1,15,$SESSION1,$SA1,$CLASS1,$CLASS1PRODUCT1,C,BOX,TRUE,TRUE,Linkage Order Fill Report for c1,
PAUSE,2000,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,0,60,1,90,1,2,1,15,TRUE,TRUE,Order Fill Verification M2 ,
PAUSE,60000,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,010,ABC,*,0,0,3,60,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
ORDERFILLVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,011,ABC,*,0,90,1,60,1,2,1,20,TRUE,TRUE,Order Fill Verification M2 ,
ORDERCANCELVERIFICATION,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,MAM,011,ABC,*,$SESSION1,$CLASS1PRODUCT1,3,90,TRUE,TRUE,Order Cancel Verification,
BOOKDEPTHVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,1,100,2,1,00,1,100,2,1,20,TRUE,TRUE,Verify Book Depth
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Now cancel the quote,
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Verify Book is Empty,

COMMENT,Test complete - Log off users,
TRADERLOGOUT,$MM1,TRUE,TRUE,Valid Logout,
TRADERLOGOUT,$MM2,TRUE,TRUE,Valid Logout,
TRADERLOGOUT,$MM3,TRUE,TRUE,Valid Logout,
TRADERLOGOUT,$MM4,TRUE,TRUE,Valid Logout,
SALOGOUT,$SA1,TRUE,TRUE,Valid Logout,
ENDPOINT,
PRINTOUTPUTSUMMARY,
TERMINATE,











