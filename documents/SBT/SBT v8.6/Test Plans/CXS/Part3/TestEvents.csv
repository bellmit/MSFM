TESTSUITENAME,CBOE Execution Services (CXS) C1 to C2 and Other Exchanges using Multiple Routers Test Plan Part 3
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:14

COMMENT, Test Environment Setup
SELECTREPORTINGCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,B,1,Automated API $BD1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$BD1EXCHANGE,$BD1,B,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API $HOMT1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$HOMT1EXCHANGE,$HOMT1,A,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,M,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM3,$MM3EXCHANGE,$MM3EXECFIRM,M,1,Automated API $MM3 User,FALSE,TRUE,TRUE,New User for Clearing Firm "501" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM3EXCHANGE,$MM3,M,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$BD1,$BD1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
OMTLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM3,$MM3,$CASANDPORT,TRUE,TRUE,Comment


COMMENT, Strategy Setup

COMMENT, Trading Property Setup
SETALLOWEDHALARRAY,$SA1,$SESSION1,$CLASS1,1:2:3,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5,TRUE,TRUE,Comment
SETOPENINGEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,1.0-100.0:10.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,4:true;-8:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,4:2000-2000;-8:2000-2000,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$CLASS1,4:0;-8:0,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$CLASS1,4:1;-8:1,TRUE,TRUE,Comment
SETALLOWEDHALORIGINCODES,$SA1,$SESSION1,$CLASS1,2:1;3:1;6:1;13:1,TRUE,TRUE,Comment
SETAUTOLINKORIGINCODES,$SA1,$SESSION1,$CLASS1,3:1;6:1;2:1;13:1,TRUE,TRUE,Comment
SETAUTOLINKPREFERREDTIEEXCHANGES,$SA1,$SESSION1,$CLASS1,9:1;3:2,TRUE,TRUE,Comment
SETAUTOLINKENABLED,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,5000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,5000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETREASONABILITYEDIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,GroupA,TRUE,TRUE,Comment
PAUSE,2000
VERIFYREASONABILITYEDIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,GroupA,TRUE,TRUE,Comment
SETFIRMCLASSPARDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$WORKSTATION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMCLASSPARDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$WORKSTATION1,TRUE,TRUE,Comment
SETSESSIONCLASSPARROUTING,$SA1,$SESSION1,$CLASS1,$WORKSTATION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYSESSIONCLASSPARROUTING,$SA1,$SESSION1,$CLASS1,$WORKSTATION1:4,TRUE,TRUE,Comment
SETALLOWINCOMINGISOORDERS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWINCOMINGISOORDERS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETDISABLELINKAGEONPAR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYDISABLELINKAGEONPAR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETDEFAULTLINKAGEROUTERSTATUS,$SA1,$SESSION1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYDEFAULTLINKAGEROUTERSTATUS,$SA1,$SESSION1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,TRUE,Comment
SETLINKAGEROUTERVENDORASSIGNMENT,$SA1,$SESSION1,CBOE2,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,Comment
PAUSE,2000
VERIFYLINKAGEROUTERVENDORASSIGNMENT,$SA1,$SESSION1,CBOE2,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$LINKAGEROUTERVENDORNAME,TRUE,TRUE,Comment
SETLINKAGEROUTERVENDORASSIGNMENT,$SA1,$SESSION1,ISE,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$LINKAGEROUTERVENDORNAME2,TRUE,TRUE,Comment
PAUSE,2000
VERIFYLINKAGEROUTERVENDORASSIGNMENT,$SA1,$SESSION1,ISE,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$LINKAGEROUTERVENDORNAME2,TRUE,TRUE,Comment
SETALLOWINCOMINGISOORDERS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWINCOMINGISOORDERS,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Firm Property Setup

COMMENT, Pre-Test Settings

COMMENT, This testplan requires HubLinkageSim NOT ITG Linkage Simulator as Multiple Routers is not yet supported by ITG Linkage Sim. This test plan is run using the script but HubLinkageSim commands need to be run manually when noted at pause points in the test case. Linkage Router Vendor Assignment needs to be configured to the proper router at time of execution
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
MODIFYAUTOLINKEXPIRATIONTIMER,$SA1,$CLASS1,20000,TRUE,TRUE,Comment

COMMENT, Subscriptions
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,-8,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,4,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM2,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM2,$SESSION1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM2,$SESSION1,$CLASS1,-8,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM2,$SESSION1,$CLASS1,4,TRUE,TRUE,Comment

COMMENT, Test Case 1:LMT Order with F Origin is Entered C2 and ISE are NBBO Order is Linked away to C2 (via CXS C2 Rejects Order) and to ISE (acceptstrades). Remaining quantity originally routed to C2 is routed next to ISE and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeCanceled ar HubLinkageSim setPropertyValue CBOE2 ProductsToBeCanceled ACL ar HubLinkageSim getPropertyValue CBOE2 ProductsToBeCanceled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:0:BOTR:W:A:1.25:0:BOTR:W;ISE:B:1.10:0:BOTR:W I:A:1.25:0:BOTR:W I,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is rejected and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE (after CBOE2 reject)
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYD,7996,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:LMT Order with F Origin is Entered C2 and ISE are NBBO Order is Linked away to C2 (via CXS acceptstrades) and to ISE (rejects). Remaining quantity originally routed to ISE is routed next to C2 and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue ISE ProductsToBeCanceled ACL ar HubLinkageSim setPropertyValue ISE ProductsToBeCanceled ACL ar HubLinkageSim getPropertyValue ISE ProductsToBeCanceled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:0:BOTR:W:A:1.25:0:BOTR:W;ISE:B:1.10:0:BOTR:W I:A:1.25:0:BOTR:W I,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is rejected and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is rejected
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,FALSE,TRUE,FALSE,Rejected ISE order is routed to CBOE2. CBOE2 fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2 (after ISE reject)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BXN,5521,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 3:LMT Order with M Origin is Entered C2 and ISE are NBBO Order is Linked away to C2 (via CXS C2 Partially Fills Order) and to ISE (acceptstrades). Remaining quantity originally routed to C2 is routed next to ISE and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeFilled ACL ar HubLinkageSim setPropertyValue CBOE2 ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue CBOE2 ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:0:BOTR:W:A:1.25:0:BOTR:W;ISE:B:1.10:0:BOTR:W I:A:1.25:0:BOTR:W I,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,0,25,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order partially fills (25 qty) and remaining sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,0,75,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,FALSE,TRUE,FALSE,Partially filled CBOE2 order is routed to ISE (25 qty). ISE fills remaining order quantity
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE (after CBOE2 fills partially)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACE,831,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 4:LMT Order with M Origin is Entered C2 and ISE are NBBO Order is Linked away to C2 (via CXS acceptstrades) and to ISE (trades partially). Remaining quantity originally routed to ISE is routed next to C2 and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue ISE ProductsToBePartiallyFilled ACL ar HubLinkageSim setPropertyValue ISE ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue ISE ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is filled partially - 25 qty
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,0,25,1,25,1,2,1,25,TRUE,TRUE,Order fills partially - 25 qty
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is traded
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,FALSE,TRUE,FALSE,Partial fill ISE order is routed to CBOE2. CBOE2 fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2 (after ISE reject)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XRE,3155,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 5:MKT Order with C Origin is Entered C2 and ISE are NBBO Order is Linked away to C2 (via CXS C2 acceptstrades) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure that the exchanges fill full quantity
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:0:BOTR:W:A:1.25:0:BOTR:W;ISE:B:1.10:0:BOTR:W I:A:1.25:0:BOTR:W I,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGG,1945,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 6:Multiple LMT Orders are Entered C2 and ISE are NBBO Orders are Linked away to C2 (via CXS C2 Fills some and Rejects some) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeFilled ACL ar HubLinkageSim setPropertyValue CBOE2 ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue CBOE2 ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
ORDER,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,$BD1EXCHANGE,$BD1,50,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION200,B,50,2,1,25,4,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION300,B,68,2,1,25,4,TRUE,TRUE,Comment
PAUSE,6000
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,0,75,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,0,25,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,ISE fills remaining 25 qty order (after CBOE2 partial fill)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBW,6442,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order is filled - no remaining quantity
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,FALSE,TRUE,FALSE,Second Order linked to CBOE2. Order is partially filled and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,0,25,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE (after CBOE2 partial fill)
ORDERQUERY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,VMP,6692,ABC,*,$BD1EXCHANGE,$BD1,50,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,50,TRUE,TRUE,Order is filled - no remaining quantity
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,FALSE,TRUE,FALSE,Third Order linked to CBOE2. Order is partially filled and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,0,43,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 18 qty is routed to next exchange
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=18,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,0,25,1,18,1,2,1,25,TRUE,TRUE,Order fills 18 qty at ISE (after CBOE2 partial fill)
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,ILS,9021,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,68,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 7:Multiple MKT Orders are Entered C2 and ISE are NBBO Orders are Linked away to C2 (via CXS acceptstrades) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure that the exchanges fill full quantity
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
ORDER,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,$BD1EXCHANGE,$BD1,78,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION200,B,78,2,1,25,4,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION300,B,68,2,1,25,4,TRUE,TRUE,Comment
PAUSE,6000
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is filled fully
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,FALSE,TRUE,FALSE,Order is also routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWU,7894,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,100,TRUE,TRUE,Order 1 is filled - no remaining quantity
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,FALSE,TRUE,FALSE,Second Order linked to CBOE2. Order fills full quantity at CBOE2
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,0,28,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=28,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,0,0,3,28,1,2,1,25,TRUE,TRUE,Order fills 28 qty at ISE
ORDERQUERY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,HQR,5181,ABC,*,$BD1EXCHANGE,$BD1,78,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,78,TRUE,TRUE,Order 2 is filled - no remaining quantity
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,FALSE,TRUE,FALSE,Third Order linked to CBOE2. Order is filled full quantity at CBOE2
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,0,18,1,50,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 18 qty is routed to next exchange
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=18,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,0,0,3,18,1,2,1,25,TRUE,TRUE,Order fills 18 qty at ISE
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,JKS,7330,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,68,TRUE,TRUE,Order 3 is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,30,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 8:LMT Order with F Origin is Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS C2 Rejects Order) and to ISE (acceptstrades). Remaining quantity originally routed to C2 is routed next to ISE and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeCanceled ar HubLinkageSim setPropertyValue CBOE2 ProductsToBeCanceled ACL ar HubLinkageSim getPropertyValue CBOE2 ProductsToBeCanceled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is rejected and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE (after CBOE2 reject)
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXJ,741,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 9:LMT Order with F Origin is Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS acceptstrades) and to ISE (rejects). Remaining quantity originally routed to ISE is routed next to C2 and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:100:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue ISE ProductsToBeCanceled ACL ar HubLinkageSim setPropertyValue ISE ProductsToBeCanceled ACL ar HubLinkageSim getPropertyValue ISE ProductsToBeCanceled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is rejected and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is rejected
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,FALSE,TRUE,FALSE,Rejected ISE order is routed to CBOE2. CBOE2 fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2 (after ISE reject)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARQ,5690,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 10:LMT Order with M Origin is Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS C2 Partially Fills Order) and to ISE (acceptstrades). Remaining quantity originally routed to C2 is routed next to ISE and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeFilled ACL ar HubLinkageSim setPropertyValue CBOE2 ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue CBOE2 ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order partially fills (25 qty), with remaining sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,0,75,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,0,25,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,FALSE,TRUE,FALSE,Partially filled CBOE2 order is routed to ISE (25 qty). ISE fills remaining order quantity
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE (after CBOE2 partial fill)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRN,9592,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 11:LMT Order with M Origin is Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS acceptstrades) and to ISE (trades partially). Remaining quantity originally routed to ISE is routed next to C2 and trades
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:100:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue ISE ProductsToBePartiallyFilled ACL ar HubLinkageSim setPropertyValue ISE ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue ISE ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is traded
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is filled partially - 25qty
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,0,25,1,25,1,2,1,25,TRUE,TRUE,Order fills partially - 25 qty
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,FALSE,TRUE,FALSE,Partial fill ISE order is routed to CBOE2. CBOE2 fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2 (after ISE reject)
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CTW,1052,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 12:MKT Order with C Origin is Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS C2 acceptstrades) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure that the exchanges fill full quantity
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
PAUSE,6000
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JQH,7233,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 13:Multiple LMT Orders are Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS C2 Fills some and Rejects some) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure the following Linkage events are run on the manual linkage box:ar HubLinkageSim removePropertyValue CBOE2 ProductsToBeFilled ACL ar HubLinkageSim setPropertyValue CBOE2 ProductsToBePartiallyFilled ACL 0 25 ar HubLinkageSim getPropertyValue CBOE2 ProductsToBePartiallyFilled
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
ORDER,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,$BD1EXCHANGE,$BD1,50,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION200,B,50,2,1,25,4,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION300,B,68,2,1,25,4,TRUE,TRUE,Comment
PAUSE,6000
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is rejected and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,0,75,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,0,25,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE (after CBOE2 partial fill)
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGJ,8392,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order is filled - no remaining quantity
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,FALSE,TRUE,FALSE,Second Order linked to CBOE2. Order is partially filled and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,0,25,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 25 qty is routed to next exchange
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE (after CBOE2 partial fill)
ORDERQUERY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,RDB,5037,ABC,*,$BD1EXCHANGE,$BD1,50,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,50,TRUE,TRUE,Order is filled - no remaining quantity
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,FALSE,TRUE,FALSE,Third Order linked to CBOE2. Order is partially filled and sent to next exchange
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,0,43,1,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 18 qty is routed to next exchange
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=18,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,0,25,1,18,1,2,1,25,TRUE,TRUE,Order fills 18 qty at ISE (after CBOE2 partial fill)
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=25,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,0,0,3,25,1,2,1,25,TRUE,TRUE,Order fills 25 qty at ISE
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,HKU,5206,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,2,1,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,68,TRUE,TRUE,Order is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 14:Multiple MKT Orders are Entered C1 and C2 and ISE are NBBO Orders trade at C1 and are Linked away to C2 (via CXS acceptstrades) and to ISE (acceptstrades)
CLEARALLCALLBACKS,$MM1
CLEARALLCALLBACKS,$MM2
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,CBOE2:B:1.10:50:BOTR:W:A:1.25:50:BOTR:W;ISE:B:1.10:50:BOTR:W I:A:1.25:50:BOTR:W I,TRUE,TRUE,Comment

COMMENT, Please ensure that the exchanges fill full quantity
PRESSRETURNTOCONTINUE,

QUOTE,$MM2,2,1,10,100,2,1,25,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,25,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,0,100,1,100,1,2,1,25,TRUE,TRUE,Order fills at C1 for 100 quantity
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION100,B,100,2,1,25,4,TRUE,TRUE,Comment
ORDER,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,$BD1EXCHANGE,$BD1,78,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION200,B,78,2,1,25,4,TRUE,TRUE,Comment
ORDER,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
RFPQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,$AUCTION300,B,68,2,1,25,4,TRUE,TRUE,Comment
PAUSE,6000
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,FALSE,TRUE,FALSE,Order linked to CBOE2. Order is filled fully
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,0,50,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,FALSE,TRUE,FALSE,Order is also routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=50,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,0,0,3,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at ISE
ORDERQUERY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OLX,1580,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,200,TRUE,TRUE,Order 1 is filled - no remaining quantity
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,FALSE,TRUE,FALSE,Second Order linked to CBOE2. Order fills full quantity at CBOE2
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,0,28,1,50,1,2,1,25,TRUE,TRUE,Order fills 50 qty at CBOE2
VERIFYORDERHISTORY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,FALSE,TRUE,FALSE,Order linked to ISE. Order is accepted and trades
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=28,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,0,0,3,28,1,2,1,25,TRUE,TRUE,Order fills 28 qty at ISE
ORDERQUERY,$BD1,$BD1EXCHANGE,$BD1EXECFIRM,IFJ,739,ABC,*,$BD1EXCHANGE,$BD1,78,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$BD1,$BD1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,78,TRUE,TRUE,Order 2 is filled - no remaining quantity
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,FALSE,TRUE,FALSE,Third Order linked to CBOE2. Order is filled full quantity at CBOE2
	LINKAGE_ORDER_RELATIONSHIP,ROUTED_QUANTITY=50,RELATED_ORDER_CORRESPONDENTFIRM=LKO,EXCHANGE_NAME=CBOE2,OUTBOUND_VENDOR=CXS
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,0,18,1,50,1,2,1,25,TRUE,TRUE,Order fills 25 qty at CBOE2. Remaining 18 qty is routed to next exchange
VERIFYORDERHISTORY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,FALSE,TRUE,FALSE,Rejected CBOE2 order is routed to ISE. ISE fills order
	LINKAGE_ORDER_RELATIONSHIP,RELATED_ORDER_CORRESPONDENTFIRM=LKO,ROUTED_QUANTITY=18,EXCHANGE_NAME=ISE,OUTBOUND_VENDOR=CITI
ENDVERIFYORDERHISTORY,
ORDERFILLVERIFICATION,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,0,0,3,18,1,2,1,25,TRUE,TRUE,Order fills 18 qty at ISE
ORDERQUERY,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,QTH,9805,ABC,*,$CUST1EXCHANGE,$CUST1,68,$CLASS1PRODUCT1,B,3,0,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$CUST1,$CUST1,C,FALSE,C,U,0,-,-,$SESSION1,0,0,3,68,TRUE,TRUE,Order 3 is filled - no remaining quantity
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,0,1,0,00,TRUE,TRUE,Comment
QUOTECANCEL,$MM2,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM2,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
TRADERLOGOUT,$BD1,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment
OMTLOGOUT,$HOMT1,TRUE,TRUE,Comment
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM3,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,