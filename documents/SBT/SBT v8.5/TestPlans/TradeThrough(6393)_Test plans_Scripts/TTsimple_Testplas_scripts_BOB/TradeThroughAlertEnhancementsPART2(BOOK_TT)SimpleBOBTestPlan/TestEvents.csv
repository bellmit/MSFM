TESTSUITENAME,Trade Through Alert Enhancements PART 2(BOOK_TT) Simple BOB Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:22

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API $HOMT1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$HOMT1EXCHANGE,$HOMT1,A,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,N,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,N,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
OMTLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment


COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,5:false,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
SETMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,180000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,180000,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,4999,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,4999,All,$TE,SIMPLE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$CUST1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment

COMMENT, Test Case 1:Trade price is equal to Customer order on the same side that is at the TOB. Book trade through

COMMENT, Test Scenario A:BUY SIDE-Origin B equal price to book
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VPT,61,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SAK,7874,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAK,7874,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAK,7874,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SAK,7874,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SAK,7874,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SAK,7874,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VPT,61,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VPT,61,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Sell side- Origin C worst price to book
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJX,2324,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NEH,3942,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NEH,3942,*,100,S,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NEH,3942,*,100,1.20,1,ABH,671,100,0.00,0,1.15,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NEH,3942,ABC,*,0,0,3,100,1,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NEH,3942,ABC,*,100,1.20,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NEH,3942,ABC,*,100,1.20,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NEH,3942,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJX,2324,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJX,2324,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,2000
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:BUY SIDE-Origin X
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CFK,6007,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIP,1203,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,X,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,UIP,1203,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,UIP,1203,*,100,0.90,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIP,1203,ABC,*,0,0,3,100,1,2,0,90,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIP,1203,ABC,*,100,0.90,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIP,1203,ABC,*,100,0.90,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIP,1203,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CFK,6007,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CFK,6007,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 2:Partial Trade price is equal to customer order on the same side that s at the TOB- Book trade through

COMMENT, Test Scenario A:origin- F
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCT,2246,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFM,7799,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,WFM,7799,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,WFM,7799,*,50,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFM,7799,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFM,7799,ABC,*,50,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFM,7799,ABC,*,50,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFM,7799,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCT,2246,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCT,2246,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 3:Trade price is equal to Customer order on the same side that is at the TOB Cancel and cancel replace top of book. Book trade through

COMMENT, Test Scenario A:cancelreplace tob order with different price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EMN,1851,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GRC,8111,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,GRC,8111,*,100,B,1,W,TRUE,TRUE,Comment
ORDERCANCELREPLACEBYID,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EMN,1851,ABC,*,100,$SESSION1,1,$MM1EXCHANGE,$MM1EXECFIRM,AGE,1852,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,GRC,8111,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GRC,8111,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GRC,8111,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GRC,8111,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AGE,1852,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AGE,1852,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:cancelreplace tob order with QTY
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TMC,2824,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLV,7286,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,Y,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KLV,7286,*,100,B,1,W,TRUE,TRUE,Comment
ORDERCANCELREPLACEBYID,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TMC,2824,ABC,*,100,$SESSION1,1,$MM1EXCHANGE,$MM1EXECFIRM,BKZ,2825,ABC,*,$MM1EXCHANGE,$MM1,1,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,1,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,KLV,7286,*,100,1.10,1,ABH,671,100,0.00,0,1.10,1,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLV,7286,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,1,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLV,7286,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLV,7286,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BKZ,2825,ABC,*,1,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BKZ,2825,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 4:Multiple Customer orders at the TOB

COMMENT, Test Scenario A:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote. Incoming par order is equal to TOB and will TT alert should be true since it s equal to customer orders C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWF,6986,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERJ,4988,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ETV,2647,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EKI,3080,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JIH,6348,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IMC,1717,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IMC,1717,*,1000,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,IMC,1717,*,1000,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IMC,1717,ABC,*,0,0,3,1000,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IMC,1717,ABC,*,1000,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IMC,1717,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWF,6986,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWF,6986,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERJ,4988,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERJ,4988,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ETV,2647,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ETV,2647,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EKI,3080,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EKI,3080,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JIH,6348,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JIH,6348,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote.cxl 2 CUSTOMER ORDER;Incoming par order is equal to TOB with QTY less than booked “C” and par orrder will TT alert should be true since it s equal to customer orders C C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZXX,1103,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FHG,4147,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRG,5822,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YJD,9464,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLC,1695,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INM,812,ABC,*,$MM1EXCHANGE,$MM1,90,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,INM,812,*,90,B,1,W,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FHG,4147,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FHG,4147,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRG,5822,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRG,5822,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,INM,812,*,90,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INM,812,ABC,*,0,0,3,90,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INM,812,ABC,*,90,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INM,812,ABC,*,90,1.05,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INM,812,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZXX,1103,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZXX,1103,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YJD,9464,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YJD,9464,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLC,1695,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KLC,1695,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote.cxl 2 CUSTOMER ORDER;Incoming par order is equal to TOB with QTY booked “C” and par orrder will TT alert should be true since it s equal to customer orders C C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LEH,6946,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TDU,494,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEQ,5173,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RGX,3448,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LQE,4938,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NPH,3023,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NPH,3023,*,100,B,1,W,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TDU,494,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TDU,494,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEQ,5173,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEQ,5173,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NPH,3023,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NPH,3023,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NPH,3023,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NPH,3023,ABC,*,100,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NPH,3023,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LEH,6946,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LEH,6946,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RGX,3448,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RGX,3448,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LQE,4938,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LQE,4938,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 5:Multiple Customer orders at the TOB Incoming partial par orders

COMMENT, Test Scenario A:Multiple order at the top of book;incoming parital par order partial order 1 TT order2 no TT
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GIU,832,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,5497,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EMH,8698,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJE,2301,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AYO,202,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VSF,1363,*,1000,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VSF,1363,*,500,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,0,500,1,500,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,500,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,500,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GIU,832,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GIU,832,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,5497,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,5497,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EMH,8698,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EMH,8698,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VSF,1363,*,500,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,0,0,3,500,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,500,1.05,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSF,1363,ABC,*,500,1.05,13,TRUE,TRUE,Comment
PAUSE,2200
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJE,2301,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJE,2301,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AYO,202,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AYO,202,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Multiple order at the top of book;incoming parital par order partial order 1 TT order partial 2 TT (CXL 2 Customer orders) partial order 3 No TT (CXL “C” order) C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YTY,4455,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FLN,1558,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWN,6884,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HLR,6671,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOO,8033,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HTV,7843,*,1000,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HTV,7843,*,300,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,0,700,1,300,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,300,1.10,11,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YTY,4455,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YTY,4455,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FLN,1558,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FLN,1558,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HTV,7843,*,300,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,0,400,1,300,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,300,1.10,11,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWN,6884,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWN,6884,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HTV,7843,*,400,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,0,0,3,400,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,400,1.05,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HTV,7843,ABC,*,400,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HLR,6671,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HLR,6671,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOO,8033,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOO,8033,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Multiple order at the top of book;incoming parital par order partial order 1 TT(cancel M order) order partial 2 TT (cancel I order) partial order 3 TT CXL quote
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRM,7511,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBH,5931,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,URV,759,ABC,*,$MM1EXCHANGE,$MM1,300,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,700,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SRN,7742,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,800,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BCU,8847,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,900,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,900,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LZK,2568,*,1000,B,1,W,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SRN,7742,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SRN,7742,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,LZK,2568,*,90,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,0,910,1,90,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,800,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,90,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,90,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BCU,8847,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BCU,8847,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,LZK,2568,*,250,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,0,660,1,250,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,700,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,250,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,250,1.10,13,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,LZK,2568,*,660,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,0,0,3,660,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,0,1,0,00,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,660,1.10,11,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LZK,2568,ABC,*,660,1.10,13,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRM,7511,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRM,7511,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBH,5931,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBH,5931,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,200,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,URV,759,ABC,*,300,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,URV,759,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,300,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 6:Customer order at the TOB Par oder are at worse price

COMMENT, Test Scenario A:Customer order at the TOB Par oder are at worse price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NUK,3997,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,INE,7982,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,INE,7982,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,100,1.05,13,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,100,1.05,12,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INE,7982,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NUK,3997,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NUK,3997,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 7:NON-Customer order at the TOB Par order are at equal price Negative

COMMENT, Test Scenario A:NON-Customer order at the TOB Par order are at equal price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,6011,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOV,6339,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VOV,6339,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VOV,6339,*,100,1.10,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOV,6339,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOV,6339,ABC,*,100,1.10,11,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VOV,6339,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,6011,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,6011,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:NON-Customer order at the TOB Par order are at worst price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HRF,7322,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITK,5914,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ITK,5914,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ITK,5914,*,100,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITK,5914,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITK,5914,ABC,*,100,1.05,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITK,5914,ABC,*,100,1.05,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITK,5914,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HRF,7322,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HRF,7322,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 8:Customer order at the TOB 1par order comes at better price.2 three partial order equal worse and better price Negative

COMMENT, Test Scenario A:Customer order at the TOB par order comes at better price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YFM,6844,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NJZ,3140,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NJZ,3140,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NJZ,3140,*,100,1.15,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NJZ,3140,ABC,*,0,0,3,100,1,2,1,15,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NJZ,3140,ABC,*,100,1.15,7,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NJZ,3140,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YFM,6844,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YFM,6844,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Customer order at the TOB three partial order equal worse and better price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CWC,5324,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,X,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKX,4881,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKX,4881,*,30,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,0,70,1,30,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,30,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,30,1.05,13,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKX,4881,*,30,1.15,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,0,40,1,30,1,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,30,1.15,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,30,1.15,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKX,4881,*,40,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,0,0,3,40,1,2,1,10,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,40,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,40,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKX,4881,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CWC,5324,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CWC,5324,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 9:Trade price is equal to Customer order on the same side that is at the TOB STATE opening Rotation. Negative

COMMENT, Test Scenario A:OPENING ROTATION- NO TT
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.80,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,70,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,70,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PAH,7400,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,70,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYR,2186,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENJ,8040,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYR,2186,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYR,2186,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.70,0.80,1.80,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYR,2186,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,70,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYR,2186,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYR,2186,ABC,*,100,1.10,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ENJ,8040,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.70,0.80,1.80,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENJ,8040,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENJ,8040,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENJ,8040,ABC,*,100,1.05,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYR,2186,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENJ,8040,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PAH,7400,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PAH,7400,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 10:Trade price is equal to Customer order on the same side that is at the TOB. STATE FAST. Negative

COMMENT, Test Scenario A:FAST- NO TT
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JHJ,9470,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HGW,3578,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMQ,5576,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,Y,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HGW,3578,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HGW,3578,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HGW,3578,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HGW,3578,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HGW,3578,ABC,*,100,1.10,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,JMQ,5576,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMQ,5576,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMQ,5576,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMQ,5576,ABC,*,100,1.05,13,FALSE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HGW,3578,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMQ,5576,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JHJ,9470,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JHJ,9470,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 11:Book trade through only B C F N X Y are checked for trade through Alert

COMMENT, Test Scenario A:Par order has origin M
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,26,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XWX,5644,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XWX,5644,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,XWX,5644,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XWX,5644,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XWX,5644,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XWX,5644,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,26,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,26,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Par order has origin D
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BLJ,3875,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMA,5251,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,BMA,5251,*,100,S,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,BMA,5251,*,100,1.15,1,ABH,671,100,0.00,0,1.15,100,*,1,N,100,1,-,CO,1.00,1.15,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMA,5251,ABC,*,0,0,3,100,1,2,1,15,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMA,5251,ABC,*,100,1.15,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMA,5251,ABC,*,100,1.15,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMA,5251,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BLJ,3875,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BLJ,3875,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,1000
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Par order has origin M
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SYG,3057,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VTQ,760,*,100,B,1,W,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VTQ,760,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,100,1.05,13,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,100,1.05,12,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTQ,760,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SYG,3057,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SYG,3057,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
OMTLOGOUT,$HOMT1,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,