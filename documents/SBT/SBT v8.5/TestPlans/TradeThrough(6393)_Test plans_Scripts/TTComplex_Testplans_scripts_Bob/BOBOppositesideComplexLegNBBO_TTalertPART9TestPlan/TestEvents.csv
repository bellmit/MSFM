TESTSUITENAME,BOB Opposite side Complex Leg NBBO_TT alert PART 9 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:25

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,4,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,N,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,N,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,S,TRUE,TRUE,Comment
STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY2,3,$CLASS1PRODUCT1,5,B,$CLASS1PRODUCT2,4,B,$CLASS1PRODUCT3,3,S,TRUE,TRUE,Comment
STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY3,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,B,TRUE,TRUE,Comment
STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY4,4,$CLASS1PRODUCT1,6,B,$CLASS1PRODUCT2,5,B,$CLASS1PRODUCT3,7,S,$CLASS1PRODUCT4,5,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:10000-10000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:10000-10000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
SETEXTREMELYWIDEQUOTEWIDTH,$SA1,$SESSION1,$CLASS1,0.0-100.0=10.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXTREMELYWIDEQUOTEWIDTH,$SA1,$SESSION1,$CLASS1,0.0-100.0=10.0,TRUE,TRUE,Comment
SETMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,180000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,180000,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment


COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,4,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$CLASS1,-8,TRUE,TRUE,Comment

COMMENT, Test Case 1:If a trade occurs at a price worse than leg 1and equal on leg 2(“C”) BBO on the Opposite side TT alert is generated (Opposite side Complex leg NBBO trade through) C
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJR,446,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,9.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.30,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,0.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.30,$SA1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NVB,271,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,200,200,1,100,0.90,1.30,100,S,200,300,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NVB,271,*,*,9.25,D,9.20,D,4,10.25,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,0.00,0,0.00,0,0.00,0,1.30,100,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,0,0,3,100,1,2,-9,25,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,0,-9.25,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,0,-9.25,7,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,9,90,200,2,10,30,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,0,90,300,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVB,271,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJR,446,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJR,446,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,9.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.30,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,0.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.30,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 2:If a trade occurs at a price worse than leg 1 BBO on the same side TT alert is generated (Same side Complex leg NBBO trade through)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,25,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZHP,6812,*,9.25,C,1,2,Y,Y,N,Y,-,9.90,10.30,100,S,100,100,1,100,0.90,1.30,100,B,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZHP,6812,*,*,8.65,C,8.80,C,4,9.85,100,1,1.20,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,9.20,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,0,0,3,100,1,2,8,65,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,0,8.65,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,0,8.65,18,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHP,6812,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 3:if a trade occurs at a price worse than leg 2 BBO;better price on leg 1 on the same side (same side complex leg NBBO trade through)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HOG,5076,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HOG,5076,*,*,9.10,D,9.20,D,4,10.05,100,1,0.95,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,0,0,3,100,1,2,-9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,0,-9.1,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,0,-9.1,18,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOG,5076,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 4:If a trade occurs at a price worse than leg1 and leg 2 BBo on the same side (same side complex leg NBBO trade through)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,BMG,998,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,BMG,998,*,*,9.30,D,9.20,D,4,10.25,100,1,0.95,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,0,0,3,100,1,2,-9,30,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,0,-9.3,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,0,-9.3,18,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BMG,998,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 5:If a partial trade occurs at a price worse than leg 1 BBO on the same side (same side complex leg trade through)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IND,5526,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,IND,5526,*,*,9.25,D,9.20,D,4,10.25,50,1,1.00,50,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,50;50;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,0,0,1,0,1,2,-9,25,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,0,-9.25,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,0,-9.25,18,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IND,5526,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 6:if a trade occurs at a price equal than leg 1 and leg 2 BBO on the same side NON-Customer order at the TOB on legs (TT Is FALSE negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JNL,8654,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,JNL,8654,*,*,9.20,D,9.20,D,4,10.20,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,0,0,3,100,1,2,-9,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,0,-9.2,20,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JNL,8654,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 7:if a trade occurs at a price better than leg 1 and leg 2 BBO on the same side NON-Customer order at the TOB on legs (TT Is FALSE negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KVP,5949,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,KVP,5949,*,*,9.10,D,9.20,D,4,10.15,100,1,1.05,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,0,0,3,100,1,2,-9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,0,-9.1,20,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KVP,5949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 8:if a trade occurs at a price better than leg 1 -and price equal to leg 2 BBO on the same side NON-Customer order at the TOB on legs (TT Is FALSE negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VLJ,4349,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZBJ,1019,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZBJ,1019,*,*,9.15,D,9.20,D,4,10.15,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,200,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,0,0,3,100,1,2,-9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,0,-9.15,20,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,0,-9.15,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBJ,1019,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VLJ,4349,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VLJ,4349,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 9:If a partial trade occurs at a price equal than leg 1and leg 2 BBO on the same side Non customer TOB (TT Is FALSE negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FSG,8949,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,FSG,8949,*,*,9.20,D,9.20,D,4,10.20,50,1,1.00,50,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,50;50;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,0,50,1,50,1,2,-9,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,0,-9.2,20,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSG,8949,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 10:Multiple TT alerts:Leg 1 worst price on the oppostite side (opposite side Complex leg trade through);Leg 2 Worst price same side complex leg trade trough
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PSG,5592,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PSG,5592,*,*,9.00,D,9.20,D,4,9.95,100,1,0.95,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,0,0,3,100,1,2,-9,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,0,-9.0,18,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,0,-9.0,21,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,0,-9.0,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PSG,5592,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 11:strategy 3;Buy 1:Buy1-If a trade occurs at a price worse than leg 1 BBO on the same side TT alert is generated (Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLR,6373,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY3,O,2,11,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LLR,6373,*,11.20,C,1,2,Y,Y,N,Y,-,9.90,10.30,100,S,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,LLR,6373,*,*,10.95,C,11.00,C,4,9.95,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,11.40,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLR,6373,ABC,*,0,0,3,100,1,2,10,95,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLR,6373,ABC,*,0,10.95,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLR,6373,ABC,*,0,10.95,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLR,6373,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 12:strategy 3;Buy 1:Buy1-If a trade occurs at a price equal than leg 1and better on leg 2 BBO on the same side TT alert is generated (NEGATIVE NO TT Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY3,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY3,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,3141,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY3,O,2,11,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TCS,3141,*,11.20,C,1,2,Y,Y,N,Y,-,9.90,10.30,100,S,100,100,1,100,0.90,1.30,100,S,100,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,TCS,3141,*,*,11.05,C,11.00,C,4,10.00,100,1,1.05,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,11.40,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,3141,ABC,*,0,0,3,100,1,2,11,05,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,3141,ABC,*,0,11.05,20,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCS,3141,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 13:strategy 2;Buy 5:Buy4:Sell3-If a trade occurs at a price equal than leg 1and better on leg 2 and worse on leg 3 BBO on the same side TT alert is generated (Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YHB,8788,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY2,O,2,6,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YHB,8788,*,6.00,C,1,3,Y,Y,N,Y,-,0.90,1.30,500,S,100,100,5,500,0.90,1.30,400,S,100,100,4,400,0.90,1.30,300,B,100,100,3,300,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,YHB,8788,*,*,5.45,C,5.40,C,4,1.00,500,5,1.15,400,4,1.25,300,3,0,0,0,0.90,100,1.30,100,0.90,100,1.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,500;400;300;0,N,3,AO,1.00,AO,1.20,AO,1.00,AO,1.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,7.80,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YHB,8788,ABC,*,0,0,3,100,1,2,5,45,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YHB,8788,ABC,*,0,5.45,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YHB,8788,ABC,*,0,4.45,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YHB,8788,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 14:strategy 2;Buy 5:Buy4:Sell3-If a trade occurs at a price equal than leg 1and better on leg 2 and equal on leg 3 BBO on the same side TT alert is generated Negative case NO TT Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY2,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY2,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBB,3128,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY2,O,2,6,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,3,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,WBB,3128,*,6.00,C,1,3,Y,Y,N,Y,-,0.90,1.30,500,S,100,100,5,500,0.90,1.30,400,S,100,100,4,400,0.90,1.30,300,B,100,100,3,300,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,WBB,3128,*,*,5.60,C,5.40,C,4,1.00,500,5,1.05,400,4,1.20,300,3,0,0,0,0.90,100,1.30,100,0.90,100,1.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,500;400;300;0,N,3,AO,1.00,AO,1.20,AO,1.00,AO,1.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,7.80,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBB,3128,ABC,*,0,0,3,100,1,2,5,60,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBB,3128,ABC,*,0,5.6,20,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBB,3128,ABC,*,0,5.6,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBB,3128,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 15:strategy 4;Buy 6:Buy5:Sell7 Sell:5-If a trade occurs at a price equal than leg 1and better on leg 2 worse on leg 3 and worse leg 4 BBO on the same side TT alert is generated (Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT4,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT4,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MIO,1883,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY4,O,2,96,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,4,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT4,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MIO,1883,*,96.00,C,1,4,Y,Y,N,Y,-,9.90,10.30,600,S,100,100,6,600,9.90,10.30,500,S,100,100,5,500,0.90,1.30,700,B,100,100,7,700,0.90,1.30,500,B,100,100,5,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,MIO,1883,*,*,95.25,C,95.60,C,4,10.00,600,6,10.05,500,5,1.25,700,7,1.25,500,5,10.00,100,10.20,100,10.00,100,10.20,100,1.00,100,1.20,100,1.00,100,1.20,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,600;500;700;500,N,4,AO,10.00,AO,10.20,AO,10.00,AO,10.20,AO,1.00,AO,1.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,100.20,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MIO,1883,ABC,*,0,0,3,100,1,2,95,25,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MIO,1883,ABC,*,0,95.25,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MIO,1883,ABC,*,0,95.25,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT4,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MIO,1883,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 16:strategy 4;Buy 6:Buy5:Sell7 Sell:5-If a trade occurs at a price equal than leg 1and equal on leg 2 equal on leg 3 and equal leg 4 BBO on the same side TT alert is generated (Same side Complex leg trade through)
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT4,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT4,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT3,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT3,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT3,S,1.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT4,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT3,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT4,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT4,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY4,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY4,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CBF,182,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY4,O,2,96,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,4,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT3,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT4,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,CBF,182,*,96.00,C,1,4,Y,Y,N,Y,-,9.90,10.30,600,S,100,100,6,600,9.90,10.30,500,S,100,100,5,500,0.90,1.30,700,B,100,100,7,700,0.90,1.30,500,B,100,100,5,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,CBF,182,*,*,95.60,C,95.60,C,4,10.00,600,6,10.00,500,5,1.20,700,7,1.20,500,5,10.00,100,10.20,100,10.00,100,10.20,100,1.00,100,1.20,100,1.00,100,1.20,100,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,600;500;700;500,N,4,AO,10.00,AO,10.20,AO,10.00,AO,10.20,AO,1.00,AO,1.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,100.20,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CBF,182,ABC,*,0,0,3,100,1,2,95,60,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY4,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CBF,182,ABC,*,0,95.6,20,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CBF,182,ABC,*,0,95.6,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT3,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT4,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CBF,182,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT3,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT4,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 17:If a trade occurs at a price Equal than leg1 and leg 2 TOB (B F M quote) on the same side (Negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EHQ,4279,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MLF,422,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WPS,7730,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XPU,2782,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DFR,7164,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NGQ,5688,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,400,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,400,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MFN,2202,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,400,100,1,100,0.90,1.30,100,S,100,400,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,MFN,2202,*,*,9.20,D,9.20,D,4,10.20,100,1,1.00,100,1,0,0,0,0,0,0,9.90,400,10.30,100,0.90,100,1.30,400,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,0,0,3,100,1,2,-9,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,0,-9.2,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,0,-9.2,20,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFN,2202,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EHQ,4279,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EHQ,4279,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MLF,422,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MLF,422,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WPS,7730,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WPS,7730,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XPU,2782,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XPU,2782,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DFR,7164,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DFR,7164,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NGQ,5688,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NGQ,5688,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 18:If a trade occurs at a price Equal than leg1 and leg 2 TOB Customer) on the same side (Negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXK,1937,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQH,4239,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TFF,7131,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,9,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IFF,5698,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFK,9523,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIE,549,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,400,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,400,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FSF,1618,*,9.20,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,400,100,1,100,0.90,1.30,100,S,100,400,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,FSF,1618,*,*,9.20,D,9.20,D,4,10.20,100,1,1.00,100,1,0,0,0,0,0,0,9.90,400,10.30,100,0.90,100,1.30,400,-,-,-,-,-,-,-,-,9.90,300,10.30,100,0.90,100,1.30,300,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,0,0,3,100,1,2,-9,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,0,-9.2,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,0,-9.2,20,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSF,1618,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXK,1937,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXK,1937,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQH,4239,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQH,4239,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TFF,7131,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TFF,7131,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IFF,5698,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IFF,5698,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFK,9523,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFK,9523,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIE,549,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIE,549,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 19:CBOE and NYSE are equal price;If a trade occurs at a price Equal than leg1 and leg 2 TOB Customer) on the same side (Negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFU,7704,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,10,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUN,6378,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,10,00,100,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QVX,1383,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,200,100,1,100,1.00,1.20,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,QVX,1383,*,*,9.20,D,9.20,D,4,10.20,100,1,1.00,100,1,0,0,0,0,0,0,10.00,100,10.20,100,1.00,100,1.20,100,-,-,-,-,-,-,-,-,10.00,100,0.00,0,0.00,0,1.20,100,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,0,0,3,100,1,2,-9,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,0,-9.2,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,0,-9.2,20,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,0,-9.2,18,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QVX,1383,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFU,7704,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFU,7704,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUN,6378,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUN,6378,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 20:CBOE and NYSE are equal price;If a trade occurs at a price worse price than leg1 and leg 2 TOB Customer) on the same side (Negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TGY,3402,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,10,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPP,5051,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,200,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,DMT,2909,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,100,200,1,100,1.00,1.20,100,S,200,100,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,DMT,2909,*,*,9.30,D,9.20,D,4,10.25,100,1,0.95,100,1,0,0,0,0,0,0,10.00,100,10.20,100,1.00,100,1.20,100,-,-,-,-,-,-,-,-,0.00,0,10.20,100,1.00,100,0.00,0,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,0,0,3,100,1,2,-9,30,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,0,-9.3,7,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,0,-9.3,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,0,-9.3,18,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMT,2909,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TGY,3402,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TGY,3402,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPP,5051,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPP,5051,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 21:CBOE and NYSE are equal price;If a trade occurs at a price worse price than leg1 and better price leg 2 TOB NON-Customer) on the same side (Negative case)
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPK,8045,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,10,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOL,7883,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,10,00,100,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,DMN,6462,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,200,100,1,100,1.00,1.20,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,DMN,6462,*,*,9.20,D,9.20,D,4,10.25,100,1,1.05,100,1,0,0,0,0,0,0,10.00,200,10.20,100,1.00,100,1.20,200,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,0,0,3,100,1,2,-9,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,0,-9.2,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,0,-9.2,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,0,-9.2,18,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DMN,6462,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPK,8045,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPK,8045,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOL,7883,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HOL,7883,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 22:FAST STATE:If a trade occurs at a price worse than leg 1and equal on leg 2(“C”) BBO on the same side NO TT alert is generated (Same side Complex leg NBBO trade through) C
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DRF,7248,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,DCV,2436,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,DCV,2436,*,*,9.25,D,9.20,D,4,10.25,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,100,-,-,-,-,-,-,-,-,0.00,0,0.00,0,0.00,0,1.30,100,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,0,0,3,100,1,2,-9,25,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,0,-9.25,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,0,-9.25,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DCV,2436,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DRF,7248,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DRF,7248,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 23:Opening Rotation- If a trade occurs at a price worse than leg 1and equal on leg 2(“C”) BBO on the same side TT alert is generated (Same side Complex leg NBBO trade through) C
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.70,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.70,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,80,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,80,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,80,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,80,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YSY,5397,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,80,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,65,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NWF,8393,*,0.65,D,1,2,Y,Y,N,Y,-,0.90,1.80,100,B,100,100,1,100,0.90,1.80,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,NWF,8393,*,*,0.80,C,0.70,D,4,1.70,100,1,0.90,100,1,0,0,0,0,0,0,0.90,100,1.80,100,0.90,100,1.80,200,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,1.00,AO,1.70,AO,1.00,AO,1.70,-,-,-,-,-,-,-,-,-,-,-,-,0.70,C,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,0,0,3,100,1,2,0,80,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,0,0.8,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,0,0.8,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,0,90,100,2,1,80,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,80,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NWF,8393,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YSY,5397,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YSY,5397,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 24:Incoming Par oder is not Customer so NO TT is generated for NBBOTT
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNQ,5945,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,USF,5394,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,USF,5394,*,*,9.25,D,9.20,D,4,10.25,100,1,1.00,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,200,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,0,0,3,100,1,2,-9,25,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,0,-9.25,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USF,5394,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNQ,5945,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNQ,5945,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 25:If a trade occurs at a price worse than leg 1and equal on leg 2(“C”) BBO on the same side TT alert is generated (Same side Complex leg NBBO trade through)Away market changes before sendign order C
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,9.90,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.30,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,0.90,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.30,NYSE=100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,100,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MUB,58,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,S,2,1,30,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,75,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PCP,7155,*,8.75,D,1,2,Y,Y,N,Y,-,9.90,10.30,100,B,100,100,1,100,0.90,1.30,100,S,100,200,1,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,10.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,10.20,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,B,1.00,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,S,1.20,NYSE=100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PCP,7155,*,*,9.05,D,9.20,D,4,10.00,100,1,0.95,100,1,0,0,0,0,0,0,9.90,100,10.30,100,0.90,100,1.30,200,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,-,1,-,ABH,671,100;100;0;0,N,2,AO,10.00,AO,10.20,AO,1.00,AO,1.20,-,-,-,-,-,-,-,-,-,-,-,-,8.80,D,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,0,0,3,100,1,2,-9,05,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,0,-9.05,20,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,0,-9.05,7,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,9,90,100,2,10,30,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,0,90,200,2,1,30,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_STRATEGY_LEG,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCP,7155,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MUB,58,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MUB,58,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,