TESTSUITENAME,Trade Through Alert Enhancements PART 2(BOOK_TT) Simple Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:22

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$CUST1,$CUST1EXCHANGE,$CUST1EXECFIRM,X,1,Automated API $CUST1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$CUST1EXCHANGE,$CUST1,X,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$HOMT1,$HOMT1EXCHANGE,$HOMT1EXECFIRM,A,1,Automated API $HOMT1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$HOMT1EXCHANGE,$HOMT1,A,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$CUST1,$CUST1,$CASANDPORT,TRUE,TRUE,Comment
OMTLOGIN,$HOMT1,$HOMT1,$CASANDPORT,TRUE,TRUE,Comment


COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,5:false,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$CLASS1,-8:30000-30000,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$CLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,49999,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,4999,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,4999,All,$TE,SIMPLE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$CUST1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment

COMMENT, Test Case 1:Trade price is equal to Customer order on the same side that is at the TOB. Book trade through

COMMENT, Test Scenario A:BUY SIDE-Origin B equal price to book
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JTS,7428,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XUM,6554,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XUM,6554,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,XUM,6554,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XUM,6554,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XUM,6554,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XUM,6554,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JTS,7428,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JTS,7428,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Sell side- Origin C worst price to book
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GDE,7358,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWD,8113,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VWD,8113,*,100,S,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VWD,8113,*,100,1.20,1,ABH,671,100,0.00,0,1.15,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWD,8113,ABC,*,0,0,3,100,1,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWD,8113,ABC,*,100,1.20,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWD,8113,ABC,*,100,1.20,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VWD,8113,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GDE,7358,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GDE,7358,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,2000
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:BUY SIDE-Origin X
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CZM,111,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMB,4372,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,X,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMB,4372,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMB,4372,*,100,0.90,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMB,4372,ABC,*,0,0,3,100,1,2,0,90,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMB,4372,ABC,*,100,0.90,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMB,4372,ABC,*,100,0.90,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMB,4372,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CZM,111,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CZM,111,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 2:Partial Trade price is equal to customer order on the same side that s at the TOB- Book trade through

COMMENT, Test Scenario A:origin- F
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXV,3237,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPM,4177,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OPM,4177,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,OPM,4177,*,50,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPM,4177,ABC,*,0,50,1,50,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPM,4177,ABC,*,50,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPM,4177,ABC,*,50,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPM,4177,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXV,3237,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXV,3237,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 3:Trade price is equal to Customer order on the same side that is at the TOB Cancel and cancel replace top of book. Book trade through

COMMENT, Test Scenario A:cancelreplace tob order with different price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENR,3565,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPH,6203,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TPH,6203,*,100,B,1,Y,TRUE,TRUE,Comment
ORDERCANCELREPLACEBYID,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENR,3565,ABC,*,100,$SESSION1,1,$MM1EXCHANGE,$MM1EXECFIRM,LCU,3566,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,TPH,6203,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPH,6203,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPH,6203,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TPH,6203,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LCU,3566,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LCU,3566,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:cancelreplace tob order with QTY
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OEE,5327,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACF,2358,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,Y,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ACF,2358,*,100,B,1,Y,TRUE,TRUE,Comment
ORDERCANCELREPLACEBYID,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OEE,5327,ABC,*,100,$SESSION1,1,$MM1EXCHANGE,$MM1EXECFIRM,TFM,5328,ABC,*,$MM1EXCHANGE,$MM1,1,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,1,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ACF,2358,*,100,1.10,1,ABH,671,100,0.00,0,1.10,1,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACF,2358,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,1,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACF,2358,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACF,2358,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TFM,5328,ABC,*,1,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TFM,5328,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 4:Multiple Customer orders at the TOB

COMMENT, Test Scenario A:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote. Incoming par order is equal to TOB and will TT alert should be true since it s equal to customer orders C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYH,3885,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JSE,4426,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LDD,4762,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXF,5015,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IJR,5914,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUT,6310,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EUT,6310,*,1000,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,EUT,6310,*,1000,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUT,6310,ABC,*,0,0,3,1000,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUT,6310,ABC,*,1000,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EUT,6310,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYH,3885,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYH,3885,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JSE,4426,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JSE,4426,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LDD,4762,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LDD,4762,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXF,5015,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RXF,5015,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IJR,5914,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IJR,5914,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote.cxl 2 CUSTOMER ORDER;Incoming par order is equal to TOB with QTY less than booked “C” and par orrder will TT alert should be true since it s equal to customer orders C C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LVX,9027,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSR,2875,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,STQ,9429,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EVQ,6806,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MOS,9044,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITV,8968,ABC,*,$MM1EXCHANGE,$MM1,90,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ITV,8968,*,90,B,1,Y,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSR,2875,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSR,2875,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,STQ,9429,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,STQ,9429,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ITV,8968,*,90,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITV,8968,ABC,*,0,0,3,90,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITV,8968,ABC,*,90,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITV,8968,ABC,*,90,1.05,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ITV,8968,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LVX,9027,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LVX,9027,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EVQ,6806,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EVQ,6806,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MOS,9044,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MOS,9044,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Multiple order at the top of book;all orders are equal to each other;2 “C” 1 “I” 1“M” and quote.cxl 2 CUSTOMER ORDER;Incoming par order is equal to TOB with QTY booked “C” and par orrder will TT alert should be true since it s equal to customer orders C C C C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIM,4430,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VBO,2669,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WIJ,5238,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IXF,6369,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LUL,968,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FQC,4557,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FQC,4557,*,100,B,1,Y,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VBO,2669,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VBO,2669,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WIJ,5238,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WIJ,5238,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,FQC,4557,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FQC,4557,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FQC,4557,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FQC,4557,ABC,*,100,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FQC,4557,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIM,4430,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UIM,4430,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IXF,6369,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IXF,6369,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LUL,968,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LUL,968,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 5:Multiple Customer orders at the TOB Incoming partial par orders

COMMENT, Test Scenario A:Multiple order at the top of book;incoming parital par order partial order 1 TT order2 no TT
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RUQ,6339,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCT,8350,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,8161,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEC,9960,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SEH,9034,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ALY,7593,*,1000,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ALY,7593,*,500,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,0,500,1,500,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,500,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,500,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RUQ,6339,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RUQ,6339,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCT,8350,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCT,8350,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,8161,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XIS,8161,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,ALY,7593,*,500,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,0,0,3,500,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,500,1.05,7,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ALY,7593,ABC,*,500,1.05,13,TRUE,TRUE,Comment
PAUSE,2200
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEC,9960,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FEC,9960,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SEH,9034,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SEH,9034,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Multiple order at the top of book;incoming parital par order partial order 1 TT order partial 2 TT (CXL 2 Customer orders) partial order 3 No TT (CXL “C” order) C
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJY,5739,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BGM,9916,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCV,2667,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSG,1666,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,500,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGG,3137,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PZQ,4516,*,1000,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PZQ,4516,*,300,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,0,700,1,300,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,300,1.10,11,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJY,5739,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJY,5739,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BGM,9916,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BGM,9916,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PZQ,4516,*,300,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,0,400,1,300,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,300,1.10,11,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCV,2667,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RCV,2667,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PZQ,4516,*,400,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,0,0,3,400,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,400,1.05,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PZQ,4516,ABC,*,400,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSG,1666,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VSG,1666,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGG,3137,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DGG,3137,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Multiple order at the top of book;incoming parital par order partial order 1 TT(cancel M order) order partial 2 TT (cancel I order) partial order 3 TT CXL quote
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,10,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KDV,3967,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HZP,9799,ABC,*,$MM1EXCHANGE,$MM1,200,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,400,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VEB,1123,ABC,*,$MM1EXCHANGE,$MM1,300,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,700,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYC,2194,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,800,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VHZ,6828,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,900,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,$MM1EXCHANGE,$MM1,1000,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,900,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MRK,5955,*,1000,B,1,Y,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYC,2194,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LYC,2194,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,MRK,5955,*,90,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,0,910,1,90,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,800,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,90,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,90,1.05,13,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VHZ,6828,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VHZ,6828,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,MRK,5955,*,250,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,0,660,1,250,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,700,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1500
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,250,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,250,1.10,13,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,MRK,5955,*,660,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,0,0,3,660,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,600,2,1,10,0,1,0,00,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,660,1.10,11,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MRK,5955,ABC,*,660,1.10,13,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KDV,3967,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KDV,3967,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HZP,9799,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HZP,9799,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,200,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VEB,1123,ABC,*,300,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VEB,1123,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,300,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 6:Customer order at the TOB Par oder are at worse price

COMMENT, Test Scenario A:Customer order at the TOB Par oder are at worse price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,POY,965,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,BQW,7822,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,BQW,7822,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,100,1.05,13,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,100,1.05,12,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQW,7822,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,POY,965,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,POY,965,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 7:NON-Customer order at the TOB Par order are at equal price Negative

COMMENT, Test Scenario A:NON-Customer order at the TOB Par order are at equal price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LJG,2119,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VXN,3176,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VXN,3176,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,VXN,3176,*,100,1.10,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VXN,3176,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VXN,3176,ABC,*,100,1.10,11,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VXN,3176,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LJG,2119,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LJG,2119,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:NON-Customer order at the TOB Par order are at worst price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTO,6137,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,I,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOF,4572,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QOF,4572,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,QOF,4572,*,100,1.05,1,ABH,671,100,0.00,0,0.00,0,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOF,4572,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOF,4572,ABC,*,100,1.05,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOF,4572,ABC,*,100,1.05,13,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOF,4572,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTO,6137,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VTO,6137,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 8:Customer order at the TOB 1par order comes at better price.2 three partial order equal worse and better price Negative

COMMENT, Test Scenario A:Customer order at the TOB par order comes at better price
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFM,2530,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJR,4228,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PJR,4228,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PJR,4228,*,100,1.15,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJR,4228,ABC,*,0,0,3,100,1,2,1,15,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJR,4228,ABC,*,100,1.15,7,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJR,4228,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFM,2530,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GFM,2530,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Customer order at the TOB three partial order equal worse and better price Negative
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XQP,1572,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,X,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HXW,4584,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HXW,4584,*,30,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,0,70,1,30,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,30,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,30,1.05,13,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HXW,4584,*,30,1.15,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,0,40,1,30,1,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,30,1.15,11,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,30,1.15,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,HXW,4584,*,40,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,0,0,3,40,1,2,1,10,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,40,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,40,1.10,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=0
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HXW,4584,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XQP,1572,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XQP,1572,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 9:Trade price is equal to Customer order on the same side that is at the TOB STATE opening Rotation. Negative

COMMENT, Test Scenario A:OPENING ROTATION- NO TT
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.80,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,70,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,70,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IOT,7470,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,70,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KWS,3533,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,B,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXP,5433,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,05,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KWS,3533,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,KWS,3533,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.70,0.80,1.80,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KWS,3533,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,70,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KWS,3533,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KWS,3533,ABC,*,100,1.10,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,AXP,5433,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.70,0.80,1.80,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXP,5433,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXP,5433,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXP,5433,ABC,*,100,1.05,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KWS,3533,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXP,5433,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IOT,7470,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IOT,7470,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 10:Trade price is equal to Customer order on the same side that is at the TOB. STATE FAST. Negative

COMMENT, Test Scenario A:FAST- NO TT
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,B,0.80,NYSE=100,TRUE,TRUE,Comment
UPDATEBOTR,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,S,1.30,NYSE=100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QTP,3415,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJB,2995,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,N,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGQ,5389,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,Y,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XJB,2995,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,XJB,2995,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJB,2995,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJB,2995,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJB,2995,ABC,*,100,1.10,13,FALSE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,LGQ,5389,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGQ,5389,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGQ,5389,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGQ,5389,ABC,*,100,1.05,13,FALSE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJB,2995,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGQ,5389,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QTP,3415,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QTP,3415,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case 11:Book trade through only B C F N X Y are checked for trade through Alert

COMMENT, Test Scenario A:Par order has origin M
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SPV,8453,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYO,3279,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PYO,3279,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,PYO,3279,*,100,1.10,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYO,3279,ABC,*,0,0,3,100,1,2,1,10,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYO,3279,ABC,*,100,1.10,11,TRUE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYO,3279,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SPV,8453,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SPV,8453,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario B:Par order has origin D
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBT,1771,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJJ,3482,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,1,15,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,D,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XJJ,3482,*,100,S,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,XJJ,3482,*,100,1.15,1,ABH,671,100,0.00,0,1.15,100,*,1,N,100,1,-,CO,1.00,1.15,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJJ,3482,ABC,*,0,0,3,100,1,2,1,15,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,15,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJJ,3482,ABC,*,100,1.15,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJJ,3482,ABC,*,100,1.15,13,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XJJ,3482,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBT,1771,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZBT,1771,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,1000
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Scenario C:Par order has origin M
CLEARALLPARCALLBACKS,$PAR1
CLEARALLCALLBACKS,$MM1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LKN,5786,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,CES,76,*,100,B,1,Y,TRUE,TRUE,Comment
PARORDERTRADEFILLREPORTFORTRADETHROUGH,$PAR1,$MM1,$MM1EXECFIRM,ABC,CES,76,*,100,1.05,1,ABH,671,100,0.00,0,1.10,100,*,1,N,100,1,-,CO,1.10,1.20,0.80,1.30,TRUE,TRUE,Comment
PAUSE,2000
ORDERFILLVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,0,0,3,100,1,2,1,05,TRUE,TRUE,Comment
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,10,100,2,1,20,TRUE,TRUE,Comment
PAUSE,1000
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,100,1.05,11,TRUE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,100,1.05,13,FALSE,TRUE,Comment
VERIFYTRADETHOUGHALERT,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,100,1.05,12,FALSE,TRUE,Comment
VERIFYORDERHISTORY,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CES,76,ABC,*,FALSE,TRUE,TRUE,Comment
	FILL_ORDER,ACCOUNT=$MM1,TT_INDICATOR=1
ENDVERIFYORDERHISTORY,
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LKN,5786,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LKN,5786,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment
OMTLOGOUT,$HOMT1,TRUE,TRUE,Comment
TRADERLOGOUT,$CUST1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,