TESTSUITENAME,NON_BOB_Class:TB_BUTTON_for_CPS_PART_2B WR 6357 Test Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:19

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION4,3,1,CLASS1,1,PRODUCT,$W_STOCKCLASSLIST,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION4,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS11PRODUCT1,100,B,$CLASS1PRODUCT1,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:25000-25000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:25000-25000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-999.0:999.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-999.0:999.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETENABLECPSBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYENABLECPSBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,500000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,500000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,500000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,500000,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,500000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,500000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,COMPLEX,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,COMPLEX,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment

SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,DN,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,DN,TRUE,TRUE,Comment
SETENABLECPSORDERBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYENABLECPSORDERBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKETV3,$MM1,$SESSION4,$CLASS11,$CLASS11PRODUCT1,0,TRUE,TRUE,Comment

COMMENT, Test Case 1:SETTING THE PRODUCT STATE. SETTING NBBO and BOTR
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

UPDATENBBO,$SA1,$SESSION4,$CLASS11,$CLASS11PRODUCT1,0.90,NYSE:100,1.30,NYSE:100,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:0.90:100:BOTR:N:A:1.30:100:BOTR:N,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades trades with the resting CPS Order. PAR order (Full Q-ty) is routed back to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YWB,6247,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KGD,6260,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RRB,9051,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RRB,9051,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,RRB,9051,*,*,D,0.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RRB,9051,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RRB,9051,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 3:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades Full Quantity with the resting CPS order. PAR order trades Full Q-ty with the remainder of the resting CPS order
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HUQ,5168,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MJO,3051,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJK,4376,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VJK,4376,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,VJK,4376,*,*,D,0.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VJK,4376,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 4:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder of PAR order is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SQV,3733,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OGL,2206,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZAC,6624,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZAC,6624,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZAC,6624,*,*,D,0.18,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZAC,6624,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZAC,6624,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment

COMMENT, Test Case 5:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS Order and the remainder trades with legs. PAR order (Full Q-ty) is routed back to PAR due to NO DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NIV,7602,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TUJ,9789,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,300,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FPG,7234,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPG,7234,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPG,7234,*,*,D,0.21,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,1,0,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPG,7234,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,1.20,200,S,0,100,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,20,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPG,7234,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 6:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order is routed back to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WPM,5201,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLJ,7360,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBT,3878,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FBT,3878,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,FBT,3878,*,*,D,0.21,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FBT,3878,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,200,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FBT,3878,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 7:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder (of PAR order) is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HUU,1585,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HRO,2170,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KBN,8132,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KBN,8132,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,KBN,8132,*,*,D,0.21,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KBN,8132,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KBN,8132,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment

COMMENT, Test Case 8:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with resting CPS Order and the legs. PAR order (Full Q-ty) is routed back to PAR due to NO DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NMM,9062,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EOH,2793,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,300,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VUP,6904,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VUP,6904,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,VUP,6904,*,*,D,0.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,1,0,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VUP,6904,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,1.20,200,S,0,100,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,20,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VUP,6904,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 9:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Full Q-ty with the remainder of the resting CPS order
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AFF,6144,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UZZ,420,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JGK,6200,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JGK,6200,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,10000,1.00,1.20,100,S,300,300,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,JGK,6200,*,*,D,0.20,2,10000,100,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JGK,6200,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,10000,1.00,1.20,200,S,100,300,1,100,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 10:During an ongoing COA for CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIJ,1402,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CXW,124,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JOR,8968,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JOR,8968,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,JOR,8968,*,*,D,0.20,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JOR,8968,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JOR,8968,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment

COMMENT, Test Case 11:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades trades with the resting CPS Order. PAR order (Full Q-ty) is routed back to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XQS,1114,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENY,7753,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IGP,9126,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IGP,9126,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,IGP,9126,*,*,D,0.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IGP,9126,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IGP,9126,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 12:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades Full Quantity with the resting CPS order. PAR order trades Full Q-ty with the remainder of the resting CPS order
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HED,8925,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MLR,6545,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RMS,1423,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RMS,1423,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,RMS,1423,*,*,D,0.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RMS,1423,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 13:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is EQUAL to COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder of PAR order is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QRL,2435,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WYM,3266,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,USO,1520,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,USO,1520,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,USO,1520,*,*,D,0.18,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,USO,1520,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,USO,1520,*,0.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment

COMMENT, Test Case 14:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS Order and the remainder trades with legs. PAR order (Full Q-ty) is routed back to PAR due to NO DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JKD,5358,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LVC,6517,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,300,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MNL,2625,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MNL,2625,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,MNL,2625,*,*,D,0.21,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,1,0,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MNL,2625,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,1.20,200,S,0,100,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,20,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MNL,2625,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 15:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order is routed back to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DNR,4948,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,THW,9914,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SSR,4074,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SSR,4074,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,SSR,4074,*,*,D,0.21,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SSR,4074,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,200,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SSR,4074,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,300,300,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 16:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (where PAR price is BETTER than price of the COA-ed order) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder (of PAR order) is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RMD,2501,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WWC,80,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LKC,3602,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LKC,3602,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,LKC,3602,*,*,D,0.21,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LKC,3602,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LKC,3602,*,0.21,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment

COMMENT, Test Case 17:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with resting CPS Order and the legs. PAR order (Full Q-ty) is routed back to PAR due to NO DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,10000,2,1,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,10000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZYM,141,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CQU,3788,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,300,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KEI,8514,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KEI,8514,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,KEI,8514,*,*,D,0.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,1,00,0,1,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,1,0,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KEI,8514,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,1.20,200,S,0,100,1,200,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,20,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KEI,8514,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,0.00,0.00,200,S,0,0,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 18:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Full Q-ty with the remainder of the resting CPS order
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OCD,9649,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GIG,267,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QWG,1631,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QWG,1631,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,10000,1.00,1.20,100,S,300,300,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,QWG,1631,*,*,D,0.20,2,10000,100,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QWG,1631,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,10000,1.00,1.20,200,S,100,300,1,100,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment

COMMENT, Test Case 19:During an ongoing COA for NON-CUSTOMER CPS order on the OPPOSITE side to the resting CUSTOMER CPS order in COB:Inbound CPS Order from PAR at marketable price with resting CPS order (BUT the price of the COA-ed CPS order is SUPER-MARKETABLE) ends COA prematurely. COA-ed order trades with the resting CPS order. PAR order trades Partial Q-ty with the remainder of the resting CPS order and the remainder is routed to PAR
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,30000,2,1,20,30000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,300,2,1,20,300,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RDL,8795,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,0,18,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,30000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SDB,3393,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-0,21,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,0,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NDE,5761,ABC,*,$MM1EXCHANGE,$MM1,250,$STRATEGY1,D,2,-0,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NDE,5761,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,25000,B,0,0,100,25000,1.00,1.20,250,S,300,300,1,250,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,NDE,5761,*,*,D,0.20,2,25000,250,Y,TRUE,TRUE,Comment
PAUSE,10000
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,30000,2,1,00,30000,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,300,2,1,00,300,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NDE,5761,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,1.00,1.20,150,S,300,300,1,250,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-0,18,100,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NDE,5761,*,0.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,15000,B,0,0,100,25000,0.00,0.00,150,S,0,0,1,250,FALSE,TRUE,Comment
PARLOGOUT,$PAR1,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,