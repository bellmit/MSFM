TESTSUITENAME,NON_BOB_Class:TB_BUTTON_for_CPS_PART_1B WR 6357 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:25

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,1,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION4,3,1,CLASS1,1,PRODUCT,$W_STOCKCLASSLIST,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION4,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS11PRODUCT1,100,B,$CLASS1PRODUCT1,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:3000-3000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:3000-3000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-999.0:999.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-999.0:999.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETENABLECPSBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYENABLECPSBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,500000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,500000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,500000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,500000,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,500000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,500000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,COMPLEX,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,COMPLEX,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment

SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,DN,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,500000,All,$TE,DN,TRUE,TRUE,Comment
SETENABLECPSORDERBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYENABLECPSORDERBOOKING,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKETV3,$MM1,$SESSION4,$CLASS11,$CLASS11PRODUCT1,0,TRUE,TRUE,Comment

COMMENT, Test Case 1:SETTING THE NBBO and BOTR for the Away Exchange and SETTING PRODUCT STATE for CBOE market
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION4,$CLASS11PRODUCT1,$CLASS11,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

UPDATENBBO,$SA1,$SESSION4,$CLASS11,$CLASS11PRODUCT1,9.90,NYSE:100,10.30,NYSE:100,TRUE,TRUE,Comment
UPDATEALLEXCHANGESBBOWITHNEWFORMAT,$SA1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,NYSE:B:0.90:100:BOTR:N:A:1.30:100:BOTR:N,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBR,3943,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RYE,4669,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DLW,5140,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PWO,1298,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PWO,1298,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,PWO,1298,*,*,D,9.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PWO,1298,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,20000,1.00,1.20,100,S,200,100,1,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PWO,1298,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,20000,1.00,1.20,100,S,100,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DLW,5140,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DLW,5140,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBR,3943,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FBR,3943,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 3:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBQ,7366,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VPM,5007,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLW,1587,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EKK,2551,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EKK,2551,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,EKK,2551,*,*,D,9.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EKK,2551,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLW,1587,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLW,1587,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBQ,7366,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RBQ,7366,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 4:Inbound CPS Order from PAR trades Partial Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNO,5917,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UMV,6616,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YKX,4599,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ONO,3419,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ILF,5353,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ILF,5353,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ILF,5353,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ILF,5353,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ILF,5353,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ONO,3419,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ONO,3419,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNO,5917,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YNO,5917,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 5:Inbound CPS Order from PAR trades Full Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YGQ,5021,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MSX,5939,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IJT,3470,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFZ,3249,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BTV,6294,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,BTV,6294,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,BTV,6294,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,BTV,6294,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFZ,3249,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RFZ,3249,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YGQ,5021,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YGQ,5021,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 6:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Orders in COB through MULTIPLE PRICE POINTS. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER CPS Order in COB at FIRST PRICE POINT and resting CUSTOMER and NON-CUSTOMER CPS Orders at SECOND PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SCD,746,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BQK,5463,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MMY,2563,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QQV,4346,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IEM,5107,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IEM,5107,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,IEM,5107,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,15,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IEM,5107,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IEM,5107,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QQV,4346,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QQV,4346,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SCD,746,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SCD,746,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 7:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Orders in COB through MULTIPLE PRICE POINTS. CONDITION CUSTOMER CPS Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER CPS Order in COB at FIRST PRICE POINT and resting CUSTOMER and NON-CUSTOMER CPS Orders at SECOND PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TRX,9768,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DDI,9455,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BWS,8719,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EFR,390,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FPD,1786,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPD,1786,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPD,1786,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,15,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FPD,1786,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EFR,390,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EFR,390,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TRX,9768,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TRX,9768,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 8:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Orders in COB through FIRST PRICE POINT only. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER CPS Order in COB at SECOND PRICE POINT and resting CUSTOMER and NON-CUSTOMER CPS Orders at FIRST PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OTV,377,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RPU,7888,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPR,9320,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWO,7377,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OOP,3403,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOP,3403,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,10000,1.00,1.20,100,S,200,100,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOP,3403,*,*,D,9.20,2,10000,100,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOP,3403,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,10000,1.00,1.20,100,S,200,100,1,100,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPR,9320,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OPR,9320,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWO,7377,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RWO,7377,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OTV,377,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OTV,377,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 9:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Orders in COB through FIRST PRICE POINT only. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER CPS Order in COB at SECOND PRICE POINT and resting CUSTOMER and NON-CUSTOMER CPS Orders at FIRST PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQF,3074,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PTE,8833,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TSF,1310,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJO,8833,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KYE,7557,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KYE,7557,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,KYE,7557,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KYE,7557,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,40000,1.00,1.20,300,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KYE,7557,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,40000,1.00,1.20,300,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJO,8833,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VJO,8833,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TSF,1310,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TSF,1310,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQF,3074,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YQF,3074,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 10:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JDB,4668,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MHR,3696,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJQ,4048,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PMA,6508,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMA,6508,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMA,6508,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMA,6508,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,20000,1.00,1.20,100,S,200,100,1,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,PMA,6508,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,10000,B,0,0,100,20000,1.00,1.20,100,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJQ,4048,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BJQ,4048,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JDB,4668,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JDB,4668,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 11:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MAT,2729,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OQV,9454,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JVV,7616,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,INX,2317,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,INX,2317,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,INX,2317,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,INX,2317,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JVV,7616,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JVV,7616,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MAT,2729,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MAT,2729,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 12:Inbound CPS Order from PAR trades Partial Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NZK,2205,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WFH,5767,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MPG,7672,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CMQ,437,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYA,5441,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYA,5441,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYA,5441,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYA,5441,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYA,5441,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,20000,B,10000,10000,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CMQ,437,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CMQ,437,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NZK,2205,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NZK,2205,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 13:Inbound CPS Order from PAR trades Full Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HJW,2556,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RNQ,9539,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LET,733,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSE,9570,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,III,952,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,III,952,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,III,952,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,III,952,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSE,9570,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSE,9570,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HJW,2556,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HJW,2556,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 14:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Orders in COB through Multiple Price Points. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KOT,7619,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KQU,9338,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XFL,4908,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NFQ,4791,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ECE,6534,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ECE,6534,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ECE,6534,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,15,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ECE,6534,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ECE,6534,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NFQ,4791,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NFQ,4791,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KOT,7619,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KOT,7619,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 15:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer Complex Orders in COB through Multiple Price Points. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MMC,6022,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YJR,5095,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RMT,101,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,6530,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JMO,2055,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JMO,2055,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,JMO,2055,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,15,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,15,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JMO,2055,*,9.20,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,6530,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSV,6530,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MMC,6022,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MMC,6022,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 16:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ESY,4005,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GJI,7604,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MGG,8136,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PCZ,3599,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION252,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,REZ,4410,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,REZ,4410,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,REZ,4410,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,REZ,4410,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MGG,8136,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MGG,8136,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,REZ,4410,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ESY,4005,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ESY,4005,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 17:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSZ,3231,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RHL,1082,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DVI,5588,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RDV,3401,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION252,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZHI,1629,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZHI,1629,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,30000,1.00,1.20,300,S,200,100,1,300,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZHI,1629,*,*,D,9.18,2,30000,300,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ZHI,1629,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,30000,1.00,1.20,300,S,200,100,1,300,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DVI,5588,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DVI,5588,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSZ,3231,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FSZ,3231,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 18:Inbound CPS Order from PAR trades only Partial Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GVD,2471,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CZM,1129,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KIX,9565,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QPJ,7696,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NUF,9219,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NUF,9219,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,NUF,9219,*,*,D,9.18,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NUF,9219,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NUF,9219,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QPJ,7696,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QPJ,7696,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GVD,2471,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GVD,2471,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 19:Inbound CPS Order from PAR trades Full Q-ty only with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HWL,1402,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KFP,6925,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BUG,1110,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZCE,9739,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RIG,1074,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RIG,1074,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,RIG,1074,*,*,D,9.20,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RIG,1074,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZCE,9739,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZCE,9739,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HWL,1402,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HWL,1402,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 20:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Orders in COB through Multiple Price Points. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACD,634,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QJD,8866,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYW,9895,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WJR,4218,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RNT,9424,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RNT,9424,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,RNT,9424,*,*,D,9.20,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RNT,9424,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,RNT,9424,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WJR,4218,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WJR,4218,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACD,634,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ACD,634,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 21:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAO,831,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IYG,8206,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RHE,5740,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NCQ,9826,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION252,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MBN,3294,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MBN,3294,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,MBN,3294,*,*,D,9.18,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MBN,3294,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RHE,5740,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RHE,5740,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MBN,3294,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAO,831,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DAO,831,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 22:Inbound CPS Order from PAR trades Full Q-ty only with the resting Customer CPS Order on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RVF,5309,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IJN,3316,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TNT,7127,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BTE,5535,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION252,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KHW,2685,ABC,*,$MM1EXCHANGE,$MM1,300,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KHW,2685,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,30000,1.00,1.20,300,S,200,100,1,300,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,KHW,2685,*,*,D,9.18,2,30000,300,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,KHW,2685,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,30000,B,0,0,100,30000,1.00,1.20,300,S,200,100,1,300,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TNT,7127,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TNT,7127,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RVF,5309,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RVF,5309,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 23:Inbound CPS Order from PAR trades only Partial Q-ty with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VER,4832,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYO,8103,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZGI,4394,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PKT,5635,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LWW,6335,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LWW,6335,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,LWW,6335,*,*,D,9.18,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LWW,6335,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LWW,6335,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PKT,5635,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PKT,5635,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VER,4832,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VER,4832,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 24:Inbound CPS Order from PAR trades Full Q-ty only with the multiple resting Customer CPS Orders on TOP of the BOOK in COB. CONDITION:CUSTOMER CPS Order is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VNQ,503,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XGP,1852,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SKD,5522,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WXX,5494,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,18,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TGC,4286,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TGC,4286,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,TGC,4286,*,*,D,9.18,2,20000,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TGC,4286,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,20000,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WXX,5494,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WXX,5494,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VNQ,503,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VNQ,503,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case 25:Inbound CPS Order from PAR trades Partial Q-ty only with the resting Customer CPS Orders in COB through Multiple Price Points. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER CPS Order is at BETTER price than DSM. The next Price Point in COB is EQUAL to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION4,$CLASS11PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,10000,2,10,20,10000,$CLASS11PRODUCT1,$SESSION4,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV3BESTMARKETQUERY,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLD,615,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UUM,6264,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IBZ,5565,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIG,9624,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EWF,2716,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,18,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS11PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EWF,2716,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,40000,B,0,0,100,40000,1.00,1.20,400,S,200,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,EWF,2716,*,*,D,9.18,2,40000,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,18,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,18,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,10000,2,10,00,10000,2,10,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EWF,2716,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EWF,2716,*,9.18,D,1,2,Y,Y,N,Y,-,0.00,0.00,20000,B,0,0,100,40000,1.00,1.20,200,S,200,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION4,$CLASS11PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIG,9624,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIG,9624,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLD,615,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QLD,615,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,