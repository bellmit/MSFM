TESTSUITENAME,BOB_Class:TB_BUTTON_for_COB_PART_1E WR 6357 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:12

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,2,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
CREATEUSER,$SA1,$MM2,$MM2EXCHANGE,$MM2EXECFIRM,N,1,Automated API $MM2 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM2EXCHANGE,$MM2,N,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment
TRADERLOGIN,$MM2,$MM2,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1000-1000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1000-1000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,TRUE,TRUE,TRUE,Comment
SETTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYTICKSAWAYFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYNUMBEROFATTEMPTSFORRECOA,$SA1,$SESSION1,$STRATEGYCLASS1,0,TRUE,TRUE,Comment
SETMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,18000000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYMANUALQUOTECANCELTIMERFORPAR,$SA1,$SESSION1,$CLASS1,18000000,TRUE,TRUE,Comment
SETAUTOEXSIZEAGAINSTNONCUSTOMER,$SA1,$SESSION1,$CLASS1,999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUTOEXSIZEAGAINSTNONCUSTOMER,$SA1,$SESSION1,$CLASS1,999,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$MM2EXCHANGE,$MM2EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment

SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment

COMMENT, Test Case 1:SETTINGS FOR ALL CASES IN THIS SCRIPT
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 2:Resting Simple Orders with CUSTOMER origin on TOP of the BOOK on ALL LEGS and resting CUSTOMER Complex Order on TOP of the BOOK in COB at price EQUAL to DSM and sent BEFORE Customer Simple Orders arrived on CBOE market. TB button has been activated and cannot be deactivated. Order is routed back to PAR. ANOTHER ATTEMPT FOR TB button FAILS as TB button cannot be activated once C orders are on legs
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TZP,2279,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JJE,7436,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JJE,7436,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BEK,994,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,10,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,300,2,10,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXB,955,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,300,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,JJE,7436,*,*,D,9.20,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,300,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,300,2,1,00,200,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JJE,7436,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,300,1,500,1.00,1.20,500,S,300,200,1,500,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BEK,994,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BEK,994,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXB,955,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AXB,955,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JJE,7436,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TZP,2279,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TZP,2279,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 3:Resting Simple Orders with CUSTOMER origin on TOP of the BOOK on ALL LEGS and resting CUSTOMER and NON-CUSTOMER Complex Orders on TOP of the BOOK in COB at price EQUAL to DSM and sent BEFORE Customer Simple Orders arrived on CBOE market. TB button has been activated and cannot be deactivated. Order is routed back to PAR. ANOTHER ATTEMPT FOR TB button FAILS as TB button cannot be activated once C orders are on legs
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MBG,8808,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJG,4134,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FHP,7087,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FHP,7087,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYT,2897,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,10,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,300,2,10,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KCT,7497,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,B,2,1,00,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,300,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,FHP,7087,*,*,D,9.20,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FHP,7087,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,300,1,500,1.00,1.20,500,S,300,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,300,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,300,2,1,00,200,2,1,20,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYT,2897,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MYT,2897,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KCT,7497,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KCT,7497,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,FHP,7087,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MBG,8808,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MBG,8808,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJG,4134,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PJG,4134,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 4:NO TRADE using TB button from PAR if the CUSTOMER Complex Order becomes at WORSE price than legs BBO as the Leg-1 BBO changes. CONDITION:Initial price of the resting CUSTOMER Complex Order in COB EQUALS to DSM. Order is routed back to PAR
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JCG,7558,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NNV,1338,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NKH,9037,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKH,9037,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.10,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,10,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKH,9037,*,*,D,9.20,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKH,9037,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.10,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NKH,9037,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.10,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,FALSE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JCG,7558,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JCG,7558,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NNV,1338,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NNV,1338,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 5:NO TRADE using TB button from PAR if the CUSTOMER Complex Order becomes at WORSE price than legs BBO as the Leg-2 BBO changes. CONDITION:Initial price of the CUSTOMER Complex Order in COB EQUALS to DSM. Order is routed back to PAR
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCO,2603,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGS,5318,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XKX,928,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XKX,928,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.10,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,10,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,XKX,928,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XKX,928,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.10,500,B,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XKX,928,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCO,2603,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TCO,2603,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGS,5318,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LGS,5318,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 6:NO TRADE using TB button from PAR if the CUSTOMER Complex Order becomes at WORSE price than legs BBO as the Leg-1 BBO changes. CONDITION:Initial price of the resting CUSTOMER Complex Order in COB is BETTER than DSM. Order is routed back to PAR
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYR,534,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCK,3044,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SAH,1573,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAH,1573,*,9.10,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
QUOTE,$MM1,2,9,90,100,2,10,00,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,9.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.00,$SA1,TRUE,TRUE,Comment
PAUSE,3000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,9,90,200,2,10,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAH,1573,*,*,D,9.10,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAH,1573,*,9.10,D,1,2,Y,Y,N,Y,-,9.90,10.00,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,9,90,200,2,10,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,SAH,1573,*,9.10,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYR,534,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PYR,534,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCK,3044,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCK,3044,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 7:NO TRADE using TB button from PAR if the CUSTOMER Complex Order becomes at WORSE price than legs BBO as the Leg-2 BBO changes. CONDITION:Initial price of the CUSTOMER Complex Order in COB is BETTER than DSM. Order is routed back to PAR
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UBT,3872,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PUF,9574,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ROR,893,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ROR,893,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,TRUE,TRUE,Comment
QUOTE,$MM1,2,0,90,100,2,1,00,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,0.90,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.00,$SA1,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,0,90,200,2,1,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ROR,893,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ROR,893,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,0.90,1.00,500,B,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,0,90,200,2,1,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ROR,893,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UBT,3872,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UBT,3872,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PUF,9574,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PUF,9574,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 8:TRADE through the TB button from PAR if the CUSTOMER Complex Order (at BETTER price than legs BBO) becomes at EQUAL price to legs BBO as the Leg-1 BBO changes. CONDITION:Initial price of the resting CUSTOMER Complex Order in COB is BETTER than DSM
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,RSQ,6201,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JUF,7923,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QZE,7080,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,10,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QZE,7080,*,9.10,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.10,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,10,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,QZE,7080,*,*,D,9.10,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QZE,7080,*,9.10,D,1,2,Y,Y,N,Y,-,10.00,10.10,400,B,200,200,1,500,1.00,1.20,400,S,200,200,1,500,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QZE,7080,*,9.10,D,1,2,Y,Y,N,Y,-,10.00,10.20,400,B,200,200,1,500,1.00,1.20,400,S,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JUF,7923,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JUF,7923,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 9:TRADE through the TB button from PAR if the CUSTOMER Complex Order (at BETTER price than legs BBO) becomes at EQUAL price to legs BBO as the Leg-2 BBO changes. CONDITION:Initial price of the CUSTOMER Complex Order in COB is BETTER than DSM
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YGD,6935,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NSV,7279,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,2000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYH,9043,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYH,9043,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.10,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,10,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,10,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYH,9043,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYH,9043,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,200,200,1,500,1.00,1.10,400,B,200,200,1,500,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,90,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,10,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TYH,9043,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,200,200,1,500,1.00,1.20,400,B,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NSV,7279,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NSV,7279,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 10:TRADE through the TB button from PAR if the CUSTOMER Complex Order (at EQUAL price to legs BBO) becomes at BETTER price than legs BBO as the Leg-1 BBO changes. CONDITION:Initial price of the resting CUSTOMER Complex Order in COB EQUALS to DSM
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SLD,6220,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XMH,8303,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,3000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,200,2,9,20,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OTA,1889,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTA,1889,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,500,B,200,200,1,500,1.00,1.20,500,S,200,200,1,500,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,30,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.30,$SA1,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,30,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTA,1889,*,*,D,9.20,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,15000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,20,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,100,2,9,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTA,1889,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.30,400,B,200,200,1,500,1.00,1.20,400,S,200,200,1,500,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,30,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTA,1889,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,400,B,200,200,1,500,1.00,1.20,400,S,200,200,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XMH,8303,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XMH,8303,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 11:TRADE through the TB button from PAR if the CUSTOMER Complex Order (at EQUAL price to legs BBO) becomes at BETTER price than legs BBO as the Leg-2 BBO changes. CONDITION:Initial price of the CUSTOMER Complex Order in COB EQUALS to DSM
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXT,4442,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BFU,6754,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,E,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,3000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LRS,3170,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LRS,3170,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,200,200,1,500,1.00,1.20,500,B,200,200,1,500,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,30,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.30,$SA1,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,30,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,LRS,3170,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,5000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LRS,3170,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,200,200,1,500,1.00,1.30,400,B,200,200,1,500,TRUE,TRUE,Comment
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,30,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTE,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,LRS,3170,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,100,100,1,500,1.00,1.20,500,B,100,100,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BFU,6754,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,BFU,6754,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 12:Inbound Complex Order from PAR (attempted to be sent through the TB Button) remains at PAR. CONDITION:Resting CUSTOMER Complex Order is at EQUAL price to DSM and STRATEGY STATE becomes CLOSED
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IKC,244,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TMH,5187,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,1,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TMH,5187,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,200,200,1,100,1.00,1.20,100,B,200,200,1,100,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,TMH,5187,*,*,C,8.70,2,100,100,Y,FALSE,TRUE,Comment
PAUSE,5000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,80,0,1,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,200,2,10,00,200,2,10,20,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,200,2,1,00,200,2,1,20,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,B,100,1.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT2,Y,S,100,1.20,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,B,100,10.00,$SA1,TRUE,TRUE,Comment
MANUALQUOTECANCEL,$WORKSTATION1,$PAR1,$MM2,$CLASS1PRODUCT1,Y,S,100,10.20,$SA1,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TMH,5187,*,8.70,C,1,2,Y,Y,N,Y,-,0.00,0.00,100,S,0,0,1,100,0.00,0.00,100,B,100,0,1,100,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IKC,244,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IKC,244,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,1,0,00,0,1,0,00,TRUE,TRUE,Comment
PARLOGOUT,$PAR1,TRUE,TRUE,Comment


COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM2,TRUE,TRUE,Comment
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,