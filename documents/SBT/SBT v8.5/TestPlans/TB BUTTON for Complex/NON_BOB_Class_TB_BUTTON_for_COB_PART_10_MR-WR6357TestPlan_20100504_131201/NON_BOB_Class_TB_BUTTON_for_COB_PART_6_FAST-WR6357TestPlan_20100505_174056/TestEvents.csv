TESTSUITENAME,NON_BOB_Class:TB_BUTTON_for_COB_PART_6_FAST WR 6357 Test Plan
PRINTOUTPUTHEADING,
STARTPOINT,
SALOGIN,$SA1,$SA1,TRUE,TRUE,Comment


COMMENT, Test Cases:20

COMMENT, Test Environment Setup
SELECTCLASSESANDPRODUCTS,$SA1,$SESSION1,7,1,CLASS,2,PRODUCT,$HYBRIDCLASSLIST1,TRUE,TRUE,Comment
VERIFYSESSIONSTATE,$SA1,$SESSION1,2,TRUE,TRUE,Comment

COMMENT, User Setup
CREATEUSER,$SA1,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,M,1,Automated API $MM1 User,FALSE,TRUE,TRUE,New User for Clearing Firm "671" and Exchange "CBOE" !
VERIFYUSEREXISTENCE,$SA1,$MM1EXCHANGE,$MM1,M,TRUE,TRUE,TRUE,Comment
TRADERLOGIN,$MM1,$MM1,$CASANDPORT,TRUE,TRUE,Comment

STRATEGYCREATE,$MM1,$SESSION1,$CLASS1,$STRATEGY1,2,$CLASS1PRODUCT1,1,B,$CLASS1PRODUCT2,1,S,TRUE,TRUE,Comment

COMMENT, Trading Property Setup
SETAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$STRATEGYCLASS1,2:true,TRUE,TRUE,Comment
SETAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:10000-10000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONTIMETOLIVE,$SA1,$SESSION1,$STRATEGYCLASS1,2:10000-10000,TRUE,TRUE,Comment
SETALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLOWMARKETORDER,$SA1,$SESSION1,$STRATEGYCLASS1,TRUE,TRUE,TRUE,Comment
SETAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINQUOTERS,$SA1,$SESSION1,$STRATEGYCLASS1,2:0,TRUE,TRUE,Comment
SETAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONMINMAXORDERSIZE,$SA1,$SESSION1,$STRATEGYCLASS1,2:1-99999,TRUE,TRUE,Comment
SETAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONRECEIVERTYPES,$SA1,$SESSION1,$STRATEGYCLASS1,2:1,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
SETEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
PAUSE,2000
VERIFYEXCHANGEPRESCRIBEDWIDTH,$SA1,$SESSION1,$STRATEGYCLASS1,0.0-3.0:0.5;3.0-10:1.0;10-99999:2.0,TRUE,TRUE,Comment
SETAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
PAUSE,2000
VERIFYAUCTIONENABLED,$SA1,$SESSION1,$CLASS1,-8:false;5:false,TRUE,TRUE,Comment
SETINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYINDEXHYBRIDINDICATOR,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment

COMMENT, Routing Property Setup
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,50000,TRUE,TRUE,Comment
SETFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
PAUSE,2000
VERIFYFIRMVOLUMELIMIT,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,50000,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYHELPDESKDEFAULTDESTINATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,$HOMT1:7,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$CLASS1,*,1,50000,All,$TE,SIMPLE,TRUE,TRUE,Comment
SETVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
PAUSE,2000
VERIFYVOLUMEDEVIATION,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,50000,All,$TE,COMPLEX,TRUE,TRUE,Comment
SETCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment
PAUSE,2000
VERIFYCOAELIGIBLE,$SA1,$SESSION1,$MM1EXCHANGE,$MM1EXECFIRM,$STRATEGYCLASS1,*,1,TRUE,TRUE,Comment

SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$CLASS1,FALSE,TRUE,TRUE,Comment
SETALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment
PAUSE,2000
VERIFYALLELECTRONICTRADINGCLASS,$SA1,$SESSION1,$STRATEGYCLASS1,FALSE,TRUE,TRUE,Comment

COMMENT, Pre-Test Settings
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT1,TRUE,TRUE,Comment
SUBSCRIBECURRENTMARKET,$MM1,$SESSION1,$CLASS1,$CLASS1PRODUCT2,TRUE,TRUE,Comment
SUBSCRIBEAUCTION,$MM1,$SESSION1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
SUBSCRIBERECAP,$MM1,$SESSION1,$STRATEGY1,TRUE,TRUE,Comment

COMMENT, Test Case 1:Inbound Complex Order from PAR trades Full Q-ty with the resting CUSTOMER Complex Order on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT1,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$CLASS1PRODUCT2,$CLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
PARLOGIN,$PAR1,$PAR_PWD1,$WORKSTATION1,$PARCONN1,TRUE,TRUE,Comment

TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,GYX,3480,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OZG,3891,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OZG,3891,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,100,1.00,1.20,100,B,100,100,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,OZG,3891,*,*,C,8.70,2,100,100,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,90,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OZG,3891,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,100,1.00,1.20,100,B,100,100,1,100,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 2:Inbound Complex Order from PAR trades Partial Q-ty with the resting CUSTOMER Complex Order on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DNR,6379,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,VYC,9714,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VYC,9714,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,VYC,9714,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,00,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VYC,9714,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,VYC,9714,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,FALSE,TRUE,Comment

COMMENT, Test Case 3:Inbound Complex Order from PAR trades Full Q-ty with the resting CUSTOMER Complex Order on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FIY,2146,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OOL,6870,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOL,6870,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOL,6870,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OOL,6870,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 4:Inbound Complex Order from PAR trades Partial Q-ty with the resting CUSTOMER Complex Order on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ZXF,2659,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IQS,7614,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IQS,7614,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,100,100,1,500,1.00,1.20,500,B,100,100,1,500,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,IQS,7614,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IQS,7614,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IQS,7614,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,FALSE,TRUE,Comment

COMMENT, Test Case 5:Inbound Complex Order from PAR trades Full Q-ty only with the resting CUSTOMER Complex Order on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UYK,1182,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ULC,3260,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JFV,9562,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JFV,9562,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,100,1.00,1.20,100,B,100,100,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,JFV,9562,*,*,C,8.70,2,100,100,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,90,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,JFV,9562,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,100,1.00,1.20,100,B,100,100,1,100,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ULC,3260,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ULC,3260,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 6:Inbound Complex Order from PAR trades Partial Q-ty only with the resting CUSTOMER Complex Order on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SHR,9181,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SDB,3760,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QQJ,7624,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QQJ,7624,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,QQJ,7624,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,00,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QQJ,7624,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QQJ,7624,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SHR,9181,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SHR,9181,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 7:Inbound Complex Order from PAR trades Full Q-ty only with the resting CUSTOMER Complex Order on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERC,4763,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ENM,1639,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XOV,4488,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XOV,4488,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,XOV,4488,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XOV,4488,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERC,4763,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ERC,4763,ABC,*,$SESSION1,$STRATEGY1,2,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 8:Inbound Complex Order from PAR trades Partial Q-ty only with the resting CUSTOMER Complex Order on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYN,5953,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WLU,8713,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YIX,3104,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YIX,3104,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,100,100,1,500,1.00,1.20,500,B,100,100,1,500,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,YIX,3104,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YIX,3104,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YIX,3104,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYN,5953,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYN,5953,ABC,*,$SESSION1,$STRATEGY1,2,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 9:Inbound Complex Order from PAR trades Full Q-ty with the resting CUSTOMER Complex Orders on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HLW,1616,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CAT,5659,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QHV,8995,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QHV,8995,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,QHV,8995,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,00,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,QHV,8995,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 10:Inbound Complex Order from PAR trades Partial Q-ty with the resting CUSTOMER Complex Orders on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OBS,7833,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HUF,9749,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NXB,2329,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NXB,2329,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,200,1.00,1.20,200,B,100,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,NXB,2329,*,*,C,8.80,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,00,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NXB,2329,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,NXB,2329,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,200,1.00,1.20,100,B,100,100,1,200,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OBS,7833,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OBS,7833,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 11:Inbound Complex Order from PAR trades Full Q-ty with the resting CUSTOMER Complex Orders on Top of the Book in COB. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SHX,7660,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DPV,726,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,HRG,8081,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HRG,8081,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,100,100,1,400,1.00,1.20,400,B,100,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,HRG,8081,*,*,C,8.80,2,400,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,400,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,HRG,8081,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,100,100,1,400,1.00,1.20,400,B,100,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 12:Inbound Complex Order from PAR trades Partial Q-ty with the resting CUSTOMER Complex Orders on Top of the Book in COB and the remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UQT,8225,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TYD,6579,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,YKM,6086,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YKM,6086,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,100,100,1,500,1.00,1.20,500,B,100,100,1,500,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,YKM,6086,*,*,C,8.80,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,400,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YKM,6086,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,500,1.00,1.20,100,B,100,100,1,500,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,YKM,6086,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,100,S,100,100,1,500,1.00,1.20,100,B,100,100,1,500,FALSE,TRUE,Comment

COMMENT, Test Case 13:Inbound Complex Order from PAR trades Full Q-ty only with the resting CUSTOMER Complex Orders in COB through Multiple Price Points. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,LLC,9114,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,NVI,7557,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,85,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FNV,5810,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,85,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:252
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION252,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WBN,5642,ABC,*,$MM1EXCHANGE,$MM1,10,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,WBN,5642,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,10,S,100,100,1,10,1.00,1.20,10,B,100,100,1,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,TXS,2909,ABC,*,$MM1EXCHANGE,$MM1,190,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:254
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TXS,2909,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,190,S,100,100,1,190,1.00,1.20,190,B,100,100,1,190,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,WBN,5642,*,*,C,8.70,2,10,10,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,90,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,90,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,TXS,2909,*,*,C,8.70,2,190,190,Y,TRUE,TRUE,Comment
PAUSE,1000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,85,100,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-8,85,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,WBN,5642,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,10,S,100,100,1,10,1.00,1.20,10,B,100,100,1,10,FALSE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,TXS,2909,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,190,S,100,100,1,190,1.00,1.20,190,B,100,100,1,190,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FNV,5810,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,FNV,5810,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 14:Inbound Complex Order from PAR trades Partial Q-ty only with the resting CUSTOMER Complex Orders in COB at Multiple Price Points. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,AOQ,3500,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QML,9960,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,100,2,-9,00,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IFT,821,ABC,*,$MM1EXCHANGE,$MM1,500,$STRATEGY1,O,2,8,70,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IFT,821,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,500,S,100,100,1,500,1.00,1.20,500,B,100,100,1,500,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,IFT,821,*,*,C,8.70,2,500,500,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,90,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IFT,821,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IFT,821,*,8.70,C,1,2,Y,Y,N,Y,-,10.00,10.20,300,S,100,100,1,500,1.00,1.20,300,B,100,100,1,500,FALSE,TRUE,Comment

COMMENT, Test Case 15:Inbound Complex Order from PAR trades Full Q-ty only with the resting CUSTOMER Complex Orders in COB at Multiple Price Points. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,WRU,1827,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OHJ,1977,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,MFD,7568,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MFD,7568,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,100,100,1,400,1.00,1.20,400,B,100,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,MFD,7568,*,*,C,8.80,2,400,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,MFD,7568,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,400,S,100,100,1,400,1.00,1.20,400,B,100,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment

COMMENT, Test Case 16:Inbound Complex Order from PAR trades Partial Q-ty only with the resting CUSTOMER Complex Orders in COB at Multiple Price Points. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at EQUAL price to DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWC,4286,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CEC,786,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,400,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QRJ,7197,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-8,90,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,90,0,2,0,00,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,EFO,8484,ABC,*,$MM1EXCHANGE,$MM1,600,$STRATEGY1,O,2,8,80,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EFO,8484,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,600,S,100,100,1,600,1.00,1.20,600,B,100,100,1,600,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,EFO,8484,*,*,C,8.80,2,600,600,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-8,80,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,200,2,-8,80,0,2,0,00,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EFO,8484,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,600,1.00,1.20,200,B,100,100,1,600,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,EFO,8484,*,8.80,C,1,2,Y,Y,N,Y,-,10.00,10.20,200,S,100,100,1,600,1.00,1.20,200,B,100,100,1,600,FALSE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWC,4286,ABC,*,200,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IWC,4286,ABC,*,$SESSION1,$STRATEGY1,2,200,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 17:Inbound Complex Order from PAR trades Full Q-ty only with the resting Customer Complex Orders in COB through FIRST PRICE POINT only. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER Complex Order in COB at SECOND PRICE POINT and resting CUSTOMER and NON-CUSTOMER Complex Orders at FIRST PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IYM,5727,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DYD,8027,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DER,3956,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XCC,4264,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XCC,4264,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,100,100,1,100,1.00,1.20,100,S,100,100,1,100,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,XCC,4264,*,*,D,9.20,2,100,100,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,XCC,4264,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,100,100,1,100,1.00,1.20,100,S,100,100,1,100,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DYD,8027,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DYD,8027,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DER,3956,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,DER,3956,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 18:Inbound Complex Order from PAR trades Partial Q-ty only with the resting Customer Complex Orders in COB through FIRST PRICE POINT only. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM. CONDITION:Resting CUSTOMER Complex Order in COB at SECOND PRICE POINT and resting CUSTOMER and NON-CUSTOMER Complex Orders at FIRST PRICE POINT
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,SMS,6914,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:249
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION249,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XTF,1383,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,15,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOT,1682,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,IHB,6570,ABC,*,$MM1EXCHANGE,$MM1,400,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IHB,6570,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,400,B,100,100,1,400,1.00,1.20,400,S,100,100,1,400,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,IHB,6570,*,*,D,9.20,2,400,400,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IHB,6570,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,300,B,100,100,1,400,1.00,1.20,300,S,100,100,1,400,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,IHB,6570,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,300,B,100,100,1,400,1.00,1.20,300,S,100,100,1,400,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOT,1682,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,QOT,1682,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XTF,1383,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,XTF,1383,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
PAUSE,1000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 19:Inbound Complex Order from PAR trades Partial Q-ty only with the resting Customer Complex Order on TOP of the BOOK in COB. The remaining Q-ty is routed back to PAR. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PPT,1002,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,10,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,200,2,10,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JWK,5053,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CDE,5255,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,100,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UOG,8575,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,OTK,1097,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,BD,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTK,1097,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,200,B,100,200,1,200,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTK,1097,*,*,D,9.20,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTK,1097,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,100,200,1,200,1.00,1.20,100,S,200,100,1,200,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,200,2,10,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
CANCELALLPARORDERS,$PAR1,$MM1,TRUE,TRUE,Comment
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,OTK,1097,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,100,B,100,200,1,200,1.00,1.20,100,S,200,100,1,200,FALSE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,100,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UOG,8575,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,UOG,8575,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PPT,1002,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,PPT,1002,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JWK,5053,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JWK,5053,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case 20:Inbound Complex Order from PAR trades Full Q-ty only with the resting Customer Complex Order on TOP of the BOOK in COB. CONDITION:CUSTOMER Complex Order is at BETTER price than DSM
CLEARALLCALLBACKS,$MM1
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$CLASS1PRODUCT2,6,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
QUOTE,$MM1,2,10,00,100,2,10,20,100,$CLASS1PRODUCT1,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,100,2,10,20,TRUE,TRUE,Comment
QUOTE,$MM1,2,1,00,100,2,1,20,100,$CLASS1PRODUCT2,$SESSION1,User Assigned Id..,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,100,2,1,00,100,2,1,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CAC,1899,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT1,S,2,10,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,200,2,10,20,TRUE,TRUE,Comment
ORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CJQ,7576,ABC,*,$MM1EXCHANGE,$MM1,100,$CLASS1PRODUCT2,B,2,1,00,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,TRUE,TRUE,Comment
PAUSE,1000
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,1,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,1,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,2,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,2,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,3,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,3,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,4,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,4,TRUE,TRUE,Comment
SETPRODUCTSTATEBYPRODUCT,$SA1,$SESSION1,$STRATEGY1,$STRATEGYCLASS1,6,TRUE,TRUE,Comment
PRODUCTSTATEQUERY,$SA1,$SESSION1,$STRATEGY1,6,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,KEG,4384,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,C,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:250
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION250,U,200,1,0,00,TRUE,TRUE,Comment
PAUSE,15000
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,200,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JLJ,3081,ABC,*,$MM1EXCHANGE,$MM1,100,$STRATEGY1,O,2,9,10,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,-,$MM1,$MM1,C,FALSE,F,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:251
PAUSE,1000
RFPQUERY,$MM1,$SESSION1,$STRATEGY1,$AUCTION251,U,100,1,0,00,FALSE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,300,2,9,10,TRUE,TRUE,Comment
STRATEGYORDER,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,ARO,6231,ABC,*,$MM1EXCHANGE,$MM1,200,$STRATEGY1,D,2,-9,20,D,21/12/2003 6:00:00.0,1,2,0,00,0,-,-,BARTID=$WORKSTATION1,$MM1,$MM1,C,FALSE,M,U,0,-,-,$SESSION1,2,$CLASS1PRODUCT1,$MM1EXCHANGE,$MM1EXECFIRM,C,C,$CLASS1PRODUCT2,$MM1EXCHANGE,$MM1EXECFIRM,C,C,TRUE,TRUE,This is the Strategy order: BA:253
PAUSE,10000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ARO,6231,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,200,B,100,200,1,200,1.00,1.20,200,S,200,100,1,200,TRUE,TRUE,Comment
PARCOMPLEXORDERTRADEWITHBOOKREQ,$PAR1,$MM1,$MM1EXECFIRM,ABC,ARO,6231,*,*,D,9.20,2,200,200,Y,TRUE,TRUE,Comment
PAUSE,10000
LASTSALEQUERY,$MM1,$SESSION1,$STRATEGY1,2,-9,10,200,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,100,2,9,10,TRUE,TRUE,Comment
CLEARALLPARCALLBACKS,$PAR1
PAUSE,1000
VERIFYCOMPLEXPARORDER,$PAR1,$MM1,$MM1EXECFIRM,ABC,ARO,6231,*,9.20,D,1,2,Y,Y,N,Y,-,10.00,10.20,200,B,100,200,1,200,1.00,1.20,200,S,200,100,1,200,FALSE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,200,2,1,00,100,2,1,20,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,100,2,10,00,200,2,10,20,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT1,2,TRUE,TRUE,Comment
QUOTECANCEL,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
QUOTECANCELVERIFICATION,$MM1,$SESSION1,$CLASS1PRODUCT2,2,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JLJ,3081,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,JLJ,3081,ABC,*,$SESSION1,$STRATEGY1,2,100,TRUE,TRUE,Comment
TOPOFBOOKVERIFICATION,$MM1,$SESSION1,$STRATEGY1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CAC,1899,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CAC,1899,ABC,*,$SESSION1,$CLASS1PRODUCT1,2,100,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT1,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment
ORDERCANCELBYIDNOWAIT,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CJQ,7576,ABC,*,100,$SESSION1,1,TRUE,TRUE,Comment
ORDERCANCELVERIFICATION,$MM1,$MM1EXCHANGE,$MM1EXECFIRM,CJQ,7576,ABC,*,$SESSION1,$CLASS1PRODUCT2,2,100,TRUE,TRUE,Comment
CURRENTMARKETV4BESTMARKETQUERY,$MM1,CBOE,$CLASS1PRODUCT2,0,2,0,00,0,2,0,00,TRUE,TRUE,Comment

COMMENT, Test Case:Cleaning Up Task
TRADERLOGOUT,$MM1,TRUE,TRUE,Comment

SALOGOUT,$SA1,TRUE,TRUE,Comment
ENDPOINT,
PRINTOUTPUTSUMMARY,